(()=>{var e={224:e=>{var t;globalThis,t=()=>(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},864:(e,t,n)=>{"use strict";n(921)},251:(e,t,n)=>{"use strict";var r=n(196),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,l={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:l,_owner:s.current}}},893:(e,t,n)=>{"use strict";e.exports=n(251)},196:e=>{"use strict";e.exports=window.React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};return(()=>{"use strict";n.r(r),n.d(r,{Autocomplete:()=>Mt,Checkbox:()=>Lt,ColorPicker:()=>Yn,IconControl:()=>qs,IconLibrary:()=>Vs,IconModal:()=>Hs,MultiSelect:()=>Pt,OpenPanel:()=>As,SelectMeta:()=>Gs,SelectPost:()=>ll,SelectPostType:()=>gl,SelectTerm:()=>pl,SelectUser:()=>dl,SortableList:()=>Fi,SortableListItem:()=>ki,Stack:()=>Ni,Table:()=>Fs,useOption:()=>yl,usePostMeta:()=>bl,usePostRecord:()=>fl,usePostTypes:()=>sl,useTermRecord:()=>vl,useTerms:()=>Cl,useUserRecord:()=>ml,useUsers:()=>wl});var e=n(196),t=n.n(e);const o=window.wp.element,i=window.wp.components,s=window.wp.i18n,a=window.wp.primitives;var l=n(893);const u=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})});function c(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}var h=n(697),g=n.n(h);n(864);const p=e=>"object"==typeof e&&null!=e&&1===e.nodeType,f=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,m=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return f(n.overflowY,t)||f(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},v=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,b=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};var y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var w=0;function C(){}function S(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function I(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];r(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return o.cancel=r,o}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function E(e,t){return e&&t?Object.keys(e).reduce((function(n,r){return n[r]=M(t,r)?t[r]:e[r],n}),{}):e}function M(e,t){return void 0!==e[t]}function O(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function D(e,t,n,r,o){void 0===o&&(o=!1);var i=n.length;if(0===i)return-1;var s=i-1;("number"!=typeof e||e<0||e>s)&&(e=t>0?-1:s+1);var a=e+t;a<0?a=o?s:0:a>s&&(a=o?0:s);var l=P(a,t<0,n,r,o);return-1===l?e>=i?-1:e:l}function P(e,t,n,r,o){void 0===o&&(o=!1);var i=n.length;if(t){for(var s=e;s>=0;s--)if(!r(n[s],s))return s}else for(var a=e;a<i;a++)if(!r(n[a],a))return a;return o?P(t?i-1:0,t,n,r):-1}function _(e,t,n,r){return void 0===r&&(r=!0),n&&t.some((function(t){return t&&(S(t,e,n)||r&&S(t,n.document.activeElement,n))}))}var k=I((function(e){F(e).textContent=""}),500);function F(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var T={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};var N=I((function(e,t){!function(e,t){e&&t&&(F(t).textContent=e,k(t))}(e,t)}),200),A="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect,L="useId"in t()?function(n){var r=n.id,o=n.labelId,i=n.menuId,s=n.getItemId,a=n.toggleButtonId,l=n.inputId,u="downshift-"+t().useId();return r||(r=u),(0,e.useRef)({labelId:o||r+"-label",menuId:i||r+"-menu",getItemId:s||function(e){return r+"-item-"+e},toggleButtonId:a||r+"-toggle-button",inputId:l||r+"-input"}).current}:function(t){var n=t.id,r=void 0===n?"downshift-"+String(w++):n,o=t.labelId,i=t.menuId,s=t.getItemId,a=t.toggleButtonId,l=t.inputId;return(0,e.useRef)({labelId:o||r+"-label",menuId:i||r+"-menu",getItemId:s||function(e){return r+"-item-"+e},toggleButtonId:a||r+"-toggle-button",inputId:l||r+"-input"}).current};function V(e,t,n,r){var o,i;if(void 0===e){if(void 0===t)throw new Error(r);o=n[t],i=t}else i=void 0===t?n.indexOf(e):t,o=e;return[o,i]}function z(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function H(t){var n=(0,e.useRef)(t);return n.current=t,n}function q(t,n,r,o){var i=(0,e.useRef)(),s=(0,e.useRef)(),a=(0,e.useCallback)((function(e,n){s.current=n,e=E(e,n.props);var r=t(e,n);return n.props.stateReducer(e,d({},n,{changes:r}))}),[t]),l=(0,e.useReducer)(a,n,r),u=l[0],c=l[1],h=H(n),g=(0,e.useCallback)((function(e){return c(d({props:h.current},e))}),[h]),p=s.current;return(0,e.useEffect)((function(){var e=E(i.current,null==p?void 0:p.props);p&&i.current&&!o(e,u)&&function(e,t,n){var r=e.props,o=e.type,i={};Object.keys(t).forEach((function(r){!function(e,t,n,r){var o=t.props,i=t.type,s="on"+z(e)+"Change";o[s]&&void 0!==r[e]&&r[e]!==n[e]&&o[s](d({type:i},r))}(r,e,t,n),n[r]!==t[r]&&(i[r]=n[r])})),r.onStateChange&&Object.keys(i).length&&r.onStateChange(d({type:o},i))}(p,e,u),i.current=u}),[u,p,o]),[u,g]}var B={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:function(e,t){if(e){var n=((e,t)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,d="function"==typeof u?u:e=>e!==u;if(!p(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,g=[];let f=e;for(;p(f)&&d(f);){if(f=b(f),f===h){g.push(f);break}null!=f&&f===document.body&&m(f)&&!m(document.documentElement)||null!=f&&m(f,c)&&g.push(f)}const y=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,w=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:C,scrollY:S}=window,{height:I,width:x,top:R,right:E,bottom:M,left:O}=e.getBoundingClientRect(),{top:D,right:P,bottom:_,left:k}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let F="start"===a||"nearest"===a?R-D:"end"===a?M+_:R+I/2-D+_,T="center"===l?O+x/2-k+P:"end"===l?E+P:O-k;const N=[];for(let e=0;e<g.length;e++){const t=g[e],{height:n,width:r,top:o,right:i,bottom:u,left:c}=t.getBoundingClientRect();if("if-needed"===s&&R>=0&&O>=0&&M<=w&&E<=y&&R>=o&&M<=u&&O>=c&&E<=i)return N;const d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),f=parseInt(d.borderTopWidth,10),m=parseInt(d.borderRightWidth,10),b=parseInt(d.borderBottomWidth,10);let D=0,P=0;const _="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-m:0,k="offsetHeight"in t?t.offsetHeight-t.clientHeight-f-b:0,A="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,L="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(h===t)D="start"===a?F:"end"===a?F-w:"nearest"===a?v(S,S+w,w,f,b,S+F,S+F+I,I):F-w/2,P="start"===l?T:"center"===l?T-y/2:"end"===l?T-y:v(C,C+y,y,p,m,C+T,C+T+x,x),D=Math.max(0,D+S),P=Math.max(0,P+C);else{D="start"===a?F-o-f:"end"===a?F-u+b+k:"nearest"===a?v(o,u,n,f,b+k,F,F+I,I):F-(o+n/2)+k/2,P="start"===l?T-c-p:"center"===l?T-(c+r/2)+_/2:"end"===l?T-i+m+_:v(c,i,r,p,m+_,T,T+x,x);const{scrollLeft:e,scrollTop:s}=t;D=0===L?0:Math.max(0,Math.min(s+D/L,t.scrollHeight-n/L+k)),P=0===A?0:Math.max(0,Math.min(e+P/A,t.scrollWidth-r/A+_)),F+=s-D,T+=e-P}N.push({el:t,top:D,left:P})}return N})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))}},environment:"undefined"==typeof window?void 0:window};function K(e,t,n){void 0===n&&(n=T);var r=e["default"+z(t)];return void 0!==r?r:n[t]}function j(e,t,n){void 0===n&&(n=T);var r=e[t];if(void 0!==r)return r;var o=e["initial"+z(t)];return void 0!==o?o:K(e,t,n)}function G(e,t,n){var r=e.items,o=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,s=e.isItemDisabled,a=e.itemToKey,l=t.selectedItem,u=t.highlightedIndex;return 0===r.length?-1:void 0===o||u!==o||s(r[o],o)?void 0===i||s(r[i],i)?l?r.findIndex((function(e){return a(l)===a(e)})):n<0&&!s(r[r.length-1],r.length-1)?r.length-1:n>0&&!s(r[0],0)?0:-1:i:o}var U=function(){return C};function Q(t,n,r,o){void 0===o&&(o={});var i=o.document,s=Y();(0,e.useEffect)((function(){if(t&&!s&&i){var e=t(n);N(e,i)}}),r),(0,e.useEffect)((function(){return function(){var e,t;N.cancel(),(t=null==(e=i)?void 0:e.getElementById("a11y-status-message"))&&t.remove()}}),[i])}var W=C;function $(e,t,n){var r;return void 0===n&&(n=!0),d({isOpen:!1,highlightedIndex:-1},(null==(r=e.items)?void 0:r.length)&&t>=0&&d({selectedItem:e.items[t],isOpen:K(e,"isOpen"),highlightedIndex:K(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function X(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Y(){var e=t().useRef(!0);return t().useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),e.current}function J(e){var t=K(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Z=d({},{environment:g().shape({addEventListener:g().func.isRequired,removeEventListener:g().func.isRequired,document:g().shape({createElement:g().func.isRequired,getElementById:g().func.isRequired,activeElement:g().any.isRequired,body:g().any.isRequired}).isRequired,Node:g().func.isRequired}),itemToString:g().func,itemToKey:g().func,stateReducer:g().func},{getA11yStatusMessage:g().func,highlightedIndex:g().number,defaultHighlightedIndex:g().number,initialHighlightedIndex:g().number,isOpen:g().bool,defaultIsOpen:g().bool,initialIsOpen:g().bool,selectedItem:g().any,initialSelectedItem:g().any,defaultSelectedItem:g().any,id:g().string,labelId:g().string,menuId:g().string,getItemId:g().func,toggleButtonId:g().string,onSelectedItemChange:g().func,onHighlightedIndexChange:g().func,onStateChange:g().func,onIsOpenChange:g().func,scrollIntoView:g().func});y(y({},Z),{items:g().array.isRequired,isItemDisabled:g().func}),y(y({},B),{isItemDisabled:function(){return!1}});var ee=0,te=1,ne=2,re=3,oe=4,ie=5,se=6,ae=7,le=8,ue=9,ce=10,de=11,he=12,ge=13,pe=14,fe=15,me=16,ve=17,be=18,ye=19,we=20,Ce=21,Se=22,Ie=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:Se,FunctionCloseMenu:ve,FunctionOpenMenu:me,FunctionReset:Ce,FunctionSelectItem:ye,FunctionSetHighlightedIndex:be,FunctionSetInputValue:we,FunctionToggleMenu:fe,InputBlur:ue,InputChange:le,InputClick:ce,InputKeyDownArrowDown:ee,InputKeyDownArrowUp:te,InputKeyDownEnd:oe,InputKeyDownEnter:ae,InputKeyDownEscape:ne,InputKeyDownHome:re,InputKeyDownPageDown:se,InputKeyDownPageUp:ie,ItemClick:ge,ItemMouseMove:he,MenuMouseLeave:de,ToggleButtonClick:pe});function xe(e){var t=function(e){var t=j(e,"selectedItem"),n=j(e,"isOpen"),r=function(e){var t=j(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}(e),o=j(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.findIndex((function(n){return e.itemToKey(n)===e.itemToKey(t)})):r,isOpen:n,selectedItem:t,inputValue:o}}(e),n=t.selectedItem,r=t.inputValue;return""===r&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(r=e.itemToString(n)),d({},t,{inputValue:r})}d({},Z,{items:g().array.isRequired,isItemDisabled:g().func,inputValue:g().string,defaultInputValue:g().string,initialInputValue:g().string,inputId:g().string,onInputValueChange:g().func});var Re=C,Ee=d({},B,{isItemDisabled:function(){return!1}});function Me(e,t){var n,r,o=t.type,i=t.props,s=t.altKey;switch(o){case ge:r={isOpen:K(i,"isOpen"),highlightedIndex:J(i),selectedItem:i.items[t.index],inputValue:i.itemToString(i.items[t.index])};break;case ee:r=e.isOpen?{highlightedIndex:D(e.highlightedIndex,1,i.items,i.isItemDisabled,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:G(i,e,1),isOpen:i.items.length>=0};break;case te:r=e.isOpen?s?$(i,e.highlightedIndex):{highlightedIndex:D(e.highlightedIndex,-1,i.items,i.isItemDisabled,!0)}:{highlightedIndex:G(i,e,-1),isOpen:i.items.length>=0};break;case ae:r=$(i,e.highlightedIndex);break;case ne:r=d({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case ie:r={highlightedIndex:D(e.highlightedIndex,-10,i.items,i.isItemDisabled,!0)};break;case se:r={highlightedIndex:D(e.highlightedIndex,10,i.items,i.isItemDisabled,!0)};break;case re:r={highlightedIndex:P(0,!1,i.items,i.isItemDisabled)};break;case oe:r={highlightedIndex:P(i.items.length-1,!0,i.items,i.isItemDisabled)};break;case ue:r=d({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=i.items)?void 0:n.length)&&t.selectItem&&{selectedItem:i.items[e.highlightedIndex],inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case le:r={isOpen:!0,highlightedIndex:J(i),inputValue:t.inputValue};break;case ce:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:G(i,e,0)};break;case ye:r={selectedItem:t.selectedItem,inputValue:i.itemToString(t.selectedItem)};break;case Se:r={inputValue:t.inputValue};break;default:return function(e,t,n){var r,o=t.type,i=t.props;switch(o){case n.ItemMouseMove:r={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:r={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:G(i,e,0)};break;case n.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:G(i,e,0)};break;case n.FunctionCloseMenu:r={isOpen:!1};break;case n.FunctionSetHighlightedIndex:r={highlightedIndex:i.isItemDisabled(i.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:r={inputValue:t.inputValue};break;case n.FunctionReset:r={highlightedIndex:J(i),isOpen:K(i,"isOpen"),selectedItem:K(i,"selectedItem"),inputValue:K(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return d({},e,r)}(e,t,Ie)}return d({},e,r)}var Oe=["onMouseLeave","refKey","ref"],De=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Pe=["onClick","onPress","refKey","ref"],_e=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function ke(t){void 0===t&&(t={}),Re(t,ke);var n=d({},Ee,t),r=n.items,o=n.scrollIntoView,i=n.environment,s=n.getA11yStatusMessage,a=function(t,n,r,o){var i=(0,e.useRef)(),s=q(t,n,r,o),a=s[0],l=s[1],u=Y();return(0,e.useEffect)((function(){M(n,"selectedItem")&&(u||n.itemToKey(n.selectedItem)!==n.itemToKey(i.current)&&l({type:Se,inputValue:n.itemToString(n.selectedItem)}),i.current=a.selectedItem===i.current?n.selectedItem:a.selectedItem)}),[a.selectedItem,n.selectedItem]),[E(a,n),l]}(Me,n,xe,X),l=a[0],u=a[1],h=l.isOpen,g=l.highlightedIndex,p=l.selectedItem,f=l.inputValue,m=(0,e.useRef)(null),v=(0,e.useRef)({}),b=(0,e.useRef)(null),y=(0,e.useRef)(null),w=Y(),S=L(n),I=(0,e.useRef)(),D=H({state:l,props:n}),P=(0,e.useCallback)((function(e){return v.current[S.getItemId(e)]}),[S]);Q(s,l,[h,g,p,f],i);var k=function(t){var n=t.highlightedIndex,r=t.isOpen,o=t.itemRefs,i=t.getItemNodeFromIndex,s=t.menuElement,a=t.scrollIntoView,l=(0,e.useRef)(!0);return A((function(){n<0||!r||!Object.keys(o.current).length||(!1===l.current?l.current=!0:a(i(n),s))}),[n]),l}({menuElement:m.current,highlightedIndex:g,isOpen:h,itemRefs:v,scrollIntoView:o,getItemNodeFromIndex:P});W({props:n,state:l}),(0,e.useEffect)((function(){j(n,"isOpen")&&b.current&&b.current.focus()}),[]),(0,e.useEffect)((function(){w||(I.current=r.length)}));var F=function(t,n,r){var o=(0,e.useRef)({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return(0,e.useEffect)((function(){if(!t)return C;var e=n.map((function(e){return e.current}));function i(){o.current.isTouchEnd=!1,o.current.isMouseDown=!0}function s(n){o.current.isMouseDown=!1,_(n.target,e,t)||r()}function a(){o.current.isTouchEnd=!1,o.current.isTouchMove=!1}function l(){o.current.isTouchMove=!0}function u(n){o.current.isTouchEnd=!0,o.current.isTouchMove||_(n.target,e,t,!1)||r()}return t.addEventListener("mousedown",i),t.addEventListener("mouseup",s),t.addEventListener("touchstart",a),t.addEventListener("touchmove",l),t.addEventListener("touchend",u),function(){t.removeEventListener("mousedown",i),t.removeEventListener("mouseup",s),t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",l),t.removeEventListener("touchend",u)}}),[t,r]),o.current}(i,[y,m,b],(0,e.useCallback)((function(){D.current.state.isOpen&&u({type:ue,selectItem:!1})}),[u,D])),T=U("getInputProps","getMenuProps");(0,e.useEffect)((function(){h||(v.current={})}),[h]),(0,e.useEffect)((function(){var e;h&&null!=i&&i.document&&null!=b&&null!=(e=b.current)&&e.focus&&i.document.activeElement!==b.current&&b.current.focus()}),[h,i]);var N=(0,e.useMemo)((function(){return{ArrowDown:function(e){e.preventDefault(),u({type:ee,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),u({type:te,altKey:e.altKey})},Home:function(e){D.current.state.isOpen&&(e.preventDefault(),u({type:re}))},End:function(e){D.current.state.isOpen&&(e.preventDefault(),u({type:oe}))},Escape:function(e){var t=D.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),u({type:ne}))},Enter:function(e){D.current.state.isOpen&&229!==e.which&&(e.preventDefault(),u({type:ae}))},PageUp:function(e){D.current.state.isOpen&&(e.preventDefault(),u({type:ie}))},PageDown:function(e){D.current.state.isOpen&&(e.preventDefault(),u({type:se}))}}}),[u,D]),z=(0,e.useCallback)((function(e){return d({id:S.labelId,htmlFor:S.inputId},e)}),[S]),B=(0,e.useCallback)((function(e,t){var n,r=void 0===e?{}:e,o=r.onMouseLeave,i=r.refKey,s=void 0===i?"ref":i,a=r.ref,l=c(r,Oe),h=(void 0===t?{}:t).suppressRefError;return T("getMenuProps",void 0!==h&&h,s,m),d(((n={})[s]=R(a,(function(e){m.current=e})),n.id=S.menuId,n.role="listbox",n["aria-labelledby"]=l&&l["aria-label"]?void 0:""+S.labelId,n.onMouseLeave=x(o,(function(){u({type:de})})),n),l)}),[u,T,S]),K=(0,e.useCallback)((function(e){var t,n,r=void 0===e?{}:e,o=r.item,i=r.index,s=r.refKey,a=void 0===s?"ref":s,l=r.ref,h=r.onMouseMove,g=r.onMouseDown,p=r.onClick;r.onPress;var f=r.disabled,m=c(r,De);void 0!==f&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var b=D.current,y=b.props,w=b.state,C=V(o,i,y.items,"Pass either item or index to getItemProps!"),I=C[0],E=C[1],M=y.isItemDisabled(I,E),O=p;return d(((t={})[a]=R(l,(function(e){e&&(v.current[S.getItemId(E)]=e)})),t["aria-disabled"]=M,t["aria-selected"]=E===w.highlightedIndex,t.id=S.getItemId(E),t.role="option",t),!M&&((n={}).onClick=x(O,(function(){u({type:ge,index:E})})),n),{onMouseMove:x(h,(function(){F.isTouchEnd||E===w.highlightedIndex||(k.current=!1,u({type:he,index:E,disabled:M}))})),onMouseDown:x(g,(function(e){return e.preventDefault()}))},m)}),[u,S,D,F,k]),G=(0,e.useCallback)((function(e){var t,n=void 0===e?{}:e,r=n.onClick;n.onPress;var o=n.refKey,i=void 0===o?"ref":o,s=n.ref,a=c(n,Pe),l=D.current.state;return d(((t={})[i]=R(s,(function(e){y.current=e})),t["aria-controls"]=S.menuId,t["aria-expanded"]=l.isOpen,t.id=S.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&d({},{onClick:x(r,(function(){u({type:pe})}))}),a)}),[u,D,S]),$=(0,e.useCallback)((function(e,t){var n,r=void 0===e?{}:e,o=r.onKeyDown,s=r.onChange,a=r.onInput,l=r.onBlur;r.onChangeText;var h=r.onClick,g=r.refKey,p=void 0===g?"ref":g,f=r.ref,m=c(r,_e),v=(void 0===t?{}:t).suppressRefError;T("getInputProps",void 0!==v&&v,p,b);var y,w=D.current.state,C={};return m.disabled||((y={}).onChange=x(s,a,(function(e){u({type:le,inputValue:e.target.value})})),y.onKeyDown=x(o,(function(e){var t=O(e);t&&N[t]&&N[t](e)})),y.onBlur=x(l,(function(e){if(null!=i&&i.document&&w.isOpen&&!F.isMouseDown){var t=null===e.relatedTarget&&i.document.activeElement!==i.document.body;u({type:ue,selectItem:!t})}})),y.onClick=x(h,(function(){u({type:ce})})),C=y),d(((n={})[p]=R(f,(function(e){b.current=e})),n["aria-activedescendant"]=w.isOpen&&w.highlightedIndex>-1?S.getItemId(w.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=S.menuId,n["aria-expanded"]=w.isOpen,n["aria-labelledby"]=m&&m["aria-label"]?void 0:S.labelId,n.autoComplete="off",n.id=S.inputId,n.role="combobox",n.value=w.inputValue,n),C,m)}),[u,S,i,N,D,F,T]),J=(0,e.useCallback)((function(){u({type:fe})}),[u]),Z=(0,e.useCallback)((function(){u({type:ve})}),[u]),Ie=(0,e.useCallback)((function(){u({type:me})}),[u]),Fe=(0,e.useCallback)((function(e){u({type:be,highlightedIndex:e})}),[u]),Te=(0,e.useCallback)((function(e){u({type:ye,selectedItem:e})}),[u]);return{getItemProps:K,getLabelProps:z,getMenuProps:B,getInputProps:$,getToggleButtonProps:G,toggleMenu:J,openMenu:Ie,closeMenu:Z,setHighlightedIndex:Fe,setInputValue:(0,e.useCallback)((function(e){u({type:we,inputValue:e})}),[u]),selectItem:Te,reset:(0,e.useCallback)((function(){u({type:Ce})}),[u]),highlightedIndex:g,isOpen:h,selectedItem:p,inputValue:f}}ke.stateChangeTypes=Ie;var Fe={activeIndex:-1,selectedItems:[]};function Te(e,t){return j(e,t,Fe)}function Ne(e,t){return K(e,t,Fe)}function Ae(e){return{activeIndex:Te(e,"activeIndex"),selectedItems:Te(e,"selectedItems")}}function Le(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}function Ve(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}g().array,g().array,g().array,g().func,g().number,g().number,g().number,g().func,g().func,g().string,g().string;var ze={itemToKey:B.itemToKey,stateReducer:B.stateReducer,environment:B.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},He=C,qe=0,Be=1,Ke=2,je=3,Ge=4,Ue=5,Qe=6,We=7,$e=8,Xe=9,Ye=10,Je=11,Ze=12,et=Object.freeze({__proto__:null,DropdownClick:We,DropdownKeyDownBackspace:Qe,DropdownKeyDownNavigationPrevious:Ue,FunctionAddSelectedItem:$e,FunctionRemoveSelectedItem:Xe,FunctionReset:Ze,FunctionSetActiveIndex:Je,FunctionSetSelectedItems:Ye,SelectedItemClick:qe,SelectedItemKeyDownBackspace:Ke,SelectedItemKeyDownDelete:Be,SelectedItemKeyDownNavigationNext:je,SelectedItemKeyDownNavigationPrevious:Ge});function tt(e,t){var n,r=t.type,o=t.index,i=t.props,s=t.selectedItem,a=e.activeIndex,l=e.selectedItems;switch(r){case qe:n={activeIndex:o};break;case Ge:n={activeIndex:a-1<0?0:a-1};break;case je:n={activeIndex:a+1>=l.length?-1:a+1};break;case Ke:case Be:if(a<0)break;var u=a;1===l.length?u=-1:a===l.length-1&&(u=l.length-2),n=d({selectedItems:[].concat(l.slice(0,a),l.slice(a+1))},{activeIndex:u});break;case Ue:n={activeIndex:l.length-1};break;case Qe:n={selectedItems:l.slice(0,l.length-1)};break;case $e:n={selectedItems:[].concat(l,[s])};break;case We:n={activeIndex:-1};break;case Xe:var c=a,h=l.findIndex((function(e){return i.itemToKey(e)===i.itemToKey(s)}));if(h<0)break;1===l.length?c=-1:h===l.length-1&&(c=l.length-2),n={selectedItems:[].concat(l.slice(0,h),l.slice(h+1)),activeIndex:c};break;case Ye:n={selectedItems:t.selectedItems};break;case Je:n={activeIndex:t.activeIndex};break;case Ze:n={activeIndex:Ne(i,"activeIndex"),selectedItems:Ne(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return d({},e,n)}var nt=["refKey","ref","onClick","onKeyDown","selectedItem","index"],rt=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function ot(t){void 0===t&&(t={}),He(t,ot);var n=d({},ze,t),r=n.getA11yStatusMessage,o=n.environment,i=n.keyNavigationNext,s=n.keyNavigationPrevious,a=function(e,t,n,r){var o=q(e,t,n,r),i=o[0],s=o[1];return[E(i,t),s]}(tt,n,Ae,Ve),l=a[0],u=a[1],h=l.activeIndex,g=l.selectedItems,p=Y(),f=(0,e.useRef)(null),m=(0,e.useRef)();m.current=[];var v=H({state:l,props:n});Q(r,l,[h,g],o),(0,e.useEffect)((function(){p||(-1===h&&f.current?f.current.focus():m.current[h]&&m.current[h].focus())}),[h]),W({props:n,state:l});var b=U("getDropdownProps"),y=(0,e.useMemo)((function(){var e;return(e={})[s]=function(){u({type:Ge})},e[i]=function(){u({type:je})},e.Delete=function(){u({type:Be})},e.Backspace=function(){u({type:Ke})},e}),[u,i,s]),w=(0,e.useMemo)((function(){var e;return(e={})[s]=function(e){Le(e)&&u({type:Ue})},e.Backspace=function(e){Le(e)&&u({type:Qe})},e}),[u,s]);return{getSelectedItemProps:(0,e.useCallback)((function(e){var t,n=void 0===e?{}:e,r=n.refKey,o=void 0===r?"ref":r,i=n.ref,s=n.onClick,a=n.onKeyDown,l=n.selectedItem,h=n.index,g=c(n,nt),p=v.current.state,f=V(l,h,p.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],b=f>-1&&f===p.activeIndex;return d(((t={})[o]=R(i,(function(e){e&&m.current.push(e)})),t.tabIndex=b?0:-1,t.onClick=x(s,(function(){u({type:qe,index:f})})),t.onKeyDown=x(a,(function(e){var t=O(e);t&&y[t]&&y[t](e)})),t),g)}),[u,v,y]),getDropdownProps:(0,e.useCallback)((function(e,t){var n,r=void 0===e?{}:e,o=r.refKey,i=void 0===o?"ref":o,s=r.ref,a=r.onKeyDown,l=r.onClick,h=r.preventKeyAction,g=void 0!==h&&h,p=c(r,rt),m=(void 0===t?{}:t).suppressRefError;return b("getDropdownProps",void 0!==m&&m,i,f),d(((n={})[i]=R(s,(function(e){e&&(f.current=e)})),n),!g&&{onKeyDown:x(a,(function(e){var t=O(e);t&&w[t]&&w[t](e)})),onClick:x(l,(function(){u({type:We})}))},p)}),[u,w,b]),addSelectedItem:(0,e.useCallback)((function(e){u({type:$e,selectedItem:e})}),[u]),removeSelectedItem:(0,e.useCallback)((function(e){u({type:Xe,selectedItem:e})}),[u]),setSelectedItems:(0,e.useCallback)((function(e){u({type:Ye,selectedItems:e})}),[u]),setActiveIndex:(0,e.useCallback)((function(e){u({type:Je,activeIndex:e})}),[u]),reset:(0,e.useCallback)((function(){u({type:Ze})}),[u]),selectedItems:g,activeIndex:h}}ot.stateChangeTypes=et;const it=window.ReactDOM;function st(e,t,n){let r,o=n.initialDeps??[];return()=>{var i,s,a,l;let u;n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(u=Date.now());const c=e();if(c.length===o.length&&!c.some(((e,t)=>o[t]!==e)))return r;let d;if(o=c,n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(d=Date.now()),r=t(...c),n.key&&(null==(a=n.debug)?void 0:a.call(n))){const e=Math.round(100*(Date.now()-u))/100,t=Math.round(100*(Date.now()-d))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}}function at(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const lt=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout((()=>t.apply(this,o)),n)}},ut=e=>e,ct=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},dt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver((e=>{const t=e[0];if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return void o({width:e.inlineSize,height:e.blockSize})}o(n.getBoundingClientRect())}));return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},ht={passive:!0},gt="undefined"==typeof window||"onscrollend"in window,pt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=gt?()=>{}:lt(r,(()=>{t(o,!1)}),e.options.isScrollingResetDelay),s=r=>()=>{o=n[e.options.horizontal?"scrollLeft":"scrollTop"],i(),t(o,r)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,ht),n.addEventListener("scrollend",l,ht),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},ft=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},mt=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const s=e+t;null==(i=null==(o=r.scrollElement)?void 0:o.scrollTo)||i.call(o,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class vt{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{this._measureElement(e.target,e)}))})):null);return{disconnect:()=>{var e;return null==(e=t())?void 0:e.disconnect()},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((([t,n])=>{void 0===n&&delete e[t]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ut,rangeExtractor:ct,onChange:()=>{},measureElement:ft,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...e}},this.notify=(e,t)=>{var n,r;const{startIndex:o,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},s=this.calculateRange();(e||o!==(null==s?void 0:s.startIndex)||i!==(null==s?void 0:s.endIndex))&&(null==(r=(n=this.options).onChange)||r.call(n,this,t))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{var e;const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.notify(!1,!1)}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.scrollOffset<e?"forward":"backward":null,this.scrollOffset=e;const n=this.isScrolling;this.isScrolling=t,this.notify(n!==t,t)}))))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=st((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey]),((e,t,n,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r})),{key:!1}),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let o=t-1;o>=0;o--){const t=e[o];if(n.has(t.lane))continue;const i=r.get(t.lane);if(null==i||t.end>i.end?r.set(t.lane,t):t.end<i.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurements=st((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:e,paddingStart:t,scrollMargin:n,getItemKey:r},o)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let a=i;a<e;a++){const e=r(a),i=1===this.options.lanes?s[a-1]:this.getFurthestMeasurement(s,a),l=i?i.end+this.options.gap:t+n,u=o.get(e),c="number"==typeof u?u:this.options.estimateSize(a),d=l+c,h=i?i.lane:a%this.options.lanes;s[a]={index:a,start:l,size:c,end:d,key:e,lane:h}}return this.measurementsCache=s,s}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=st((()=>[this.getMeasurements(),this.getSize(),this.scrollOffset]),((e,t,n)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=bt(0,r,(t=>e[t].start),n);let i=o;for(;i<r&&e[i].end<n+t;)i++;return{startIndex:o,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:n}):null),{key:!1,debug:()=>this.options.debug}),this.getIndexes=st((()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count]),((e,t,n,r)=>null===t?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:n,count:r})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.measurementsCache[this.indexFromElement(e)];if(!n||!e.isConnected)return void this.measureElementCache.forEach(((t,n)=>{t===e&&(this.observer.unobserve(e),this.measureElementCache.delete(n))}));const r=this.measureElementCache.get(n.key);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.measureElementCache.set(n.key,e));const o=this.options.measureElement(e,t,this);this.resizeItem(n,o)},this.resizeItem=(e,t)=>{const n=t-(this.itemSizeCache.get(e.key)??e.size);0!==n&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(e,n,this):e.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=n,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,t)),this.notify(!0,!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=st((()=>[this.getIndexes(),this.getMeasurements()]),((e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=t[e[r]];n.push(o)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();return at(t[bt(0,t.length-1,(e=>at(t[e]).start),e)])},this.getOffsetForAlignment=(e,t)=>{const n=this.getSize();"auto"===t&&(t=e<=this.scrollOffset?"start":e>=this.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));const r=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=at(this.getMeasurements()[e]);if("auto"===t)if(n.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=this.scrollOffset+this.options.scrollPaddingStart))return[this.scrollOffset,t];t="start"}const r="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,t),t]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,o]=this.getOffsetForIndex(e,t);this._scrollToOffset(r,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(e))){const[t]=this.getOffsetForIndex(e,o);((e,t)=>Math.abs(e-t)<1)(t,this.scrollOffset)||this.scrollToIndex(e,{align:o,behavior:n})}else this.scrollToIndex(e,{align:o,behavior:n})})))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;return n=0===t.length?this.options.paddingStart:1===this.options.lanes?(null==(e=t[t.length-1])?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map((e=>e.end))),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{var e,t;this.itemSizeCache=new Map,null==(t=(e=this.options).onChange)||t.call(e,this,!1)},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset="function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})),this.notify(!1,!1)}}const bt=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else{if(!(i>r))return o;t=o-1}}return e>0?e-1:0},yt="undefined"!=typeof document?e.useLayoutEffect:e.useEffect;function wt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=wt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=wt(e))&&(r&&(r+=" "),r+=t);return r}const St=Ct,It={control:"IGv8Jan2_466iNHcXAhz",wrapper:"aR72ctLCFWYLQ5kEsPn7",showToggle:"Tageie9IIYQo4ppL7Ezp",showClear:"nG9Ww1zyZZgWHWyBnL5O",input:"pcgUoFanCRIFKo0JjKs6",inputWrapper:"kNnbOaZTMVZXCyBWCsHw",focused:"jJ0umEXATh_xivVPLTff",arrow:"aBKyj71DyKxGalUFroDQ",toggle:"cIAtLacMbk3Av3VIIPr3",menu:"KjoJWJXp2NOt_NMekdp1",visible:"Uin451WvWgzLPv2_ezEo",hidden:"zJTBIjD8LvVdOCs4WhiA",option:"KIDMwJeXxlwP72IEtg2u",info:"Lhjbpl85_yLXitHMjG9z",group:"i2cllWyhzjmqVpXZLLCH",clear:"O9DiIoy1aPjVBajNDaUY",groupLabel:"WUNMnw6ltfVE6PrQ0chs",nestedMenu:"Zj5ehY29Mn19aVhdPq1h",selectedItem:"vHmj5dVwV80pYCbbazEb",selectedItemButton:"s5MMWIPcn9GHrqI2PRaV",selectedItems:"chh3koh2XXgJpT_MYT9i"},xt=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)("rect",{x:"0",fill:"none",width:"20",height:"20"}),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"})));function Rt(e){return e.length>0?e.reduce(((e,t)=>Array.isArray(t.items)?[...e,...t.items]:[...e,t]),[]):[]}function Et(e,t,n){var r;return null!==(r=Rt(e).find((e=>`${e[n]}`==`${t}`)))&&void 0!==r?r:null}const Mt=(0,o.forwardRef)((function({label:t,source:n,onChange:r,onSelect:a,onClear:l,onEnter:c,onVirtualChange:d,tooltipText:h,className:g="",placeholder:p="",filterInputValue:f,error:m="",help:v="",itemLabelKey:b="label",itemValueKey:y="value",toStringKey:w="label",groupItemsKey:C="items",selected:S="",beforeInputWrapper:I=null,afterInputWrapper:x=null,virtualize:R=null,showClear:E=!1,itemFilter:M=null,filterOnSelect:O=!0,noResultsText:D=(0,s.__)("No results.","generateblocks")},P){function _(e){return e?e[b===w?b:y]||e:""}const k=(0,o.useCallback)((function(e,t){return e.filter((e=>{if(""===t)return!0;const n=(e[b]||e.toString()).toLowerCase().trim(),r=(e[y]||e.toString()).toLowerCase().trim();return n.includes(t.toLowerCase())||r.includes(t.toLowerCase())}))}),[]);function F(){V(null),J("")}const T=M||k,[N,A]=(0,o.useState)(n),[L,V]=(0,o.useState)((()=>Et(N,S,y))),[z,H]=(0,o.useState)(!O),q=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(S&&!L&&n.length){const e=Et(n,S,y);V(e)}}),[S,L,n]);const B=(K={count:N.length,getScrollElement:()=>q.current,estimateSize:(0,o.useCallback)((()=>33),[]),onChange:d},function(t){const n=e.useReducer((()=>({})),{})[1],r={...t,onChange:(e,r)=>{var o;r?(0,it.flushSync)(n):n(),null==(o=t.onChange)||o.call(t,e,r)}},[o]=e.useState((()=>new vt(r)));return o.setOptions(r),e.useEffect((()=>o._didMount()),[]),yt((()=>o._willUpdate())),o}({observeElementRect:dt,observeElementOffset:pt,scrollToFn:mt,...K}));var K;const{isOpen:j,getToggleButtonProps:G,getLabelProps:U,getMenuProps:Q,getInputProps:W,highlightedIndex:$,getItemProps:X,inputValue:Y,setInputValue:J}=ke({selectedItem:L,itemToString:_,initialInputValue:L?_(L):S,itemToKey:e=>{var t,n;return null!==(t=null!==(n=e?.id)&&void 0!==n?n:e?.[y])&&void 0!==t?t:e},items:Rt(N),onInputValueChange({inputValue:e}){A(z||!e?n:T(n,e,_,N)),r&&r(e)},onSelectedItemChange({selectedItem:e}){V(e),O||A(n),a&&a(e,F)},onHighlightedIndexChange({highlightedIndex:e,type:t}){R&&t!==ke.stateChangeTypes.MenuMouseLeave&&B.scrollToIndex(e)},stateReducer:(0,o.useCallback)(((e,t)=>{const{type:n,changes:r}=t;switch(n){case ke.stateChangeTypes.InputKeyDownArrowDown:case ke.stateChangeTypes.InputClick:return O||!1!==z||H(!0),r;case ke.stateChangeTypes.InputChange:var o;return!O&&z&&H(!1),f?{...r,inputValue:null!==(o=f(r.inputValue))&&void 0!==o?o:r.inputValue}:r;case ke.stateChangeTypes.ItemClick:case ke.stateChangeTypes.InputKeyDownEnter:case ke.stateChangeTypes.InputBlur:var i;return f&&L?{...r,inputValue:null!==(i=f(r.inputValue))&&void 0!==i?i:r.inputValue}:r;default:return r}}),[O,z])});var Z,ee,te,ne;Z=()=>{S||J(""),A(n)},ee=[n],ne=(te=(0,e.useRef)(!0)).current?(te.current=!1,!0):te.current,(0,e.useEffect)((function(){if(!ne)return Z()}),ee);const{id:re,...oe}=U();let ie=0;const se=(0,o.useCallback)((function(e){c&&"Enter"===e.key&&$<0&&c(Y)}),[$,c,Y]),ae=N.length>0||0===N.length&&D;return(0,e.createElement)(i.BaseControl,{id:re,label:t,help:v||m,...oe,className:"gb-autocomplete"},(0,e.createElement)(e.Fragment,null,h&&(0,e.createElement)("div",{className:"gb-icon"},(0,e.createElement)(i.Tooltip,{text:h},(0,e.createElement)("div",null,(0,e.createElement)(i.Icon,{icon:u})))),(0,e.createElement)("div",{className:St(It.control,R&&"is-virtualized",g)},(0,e.createElement)("div",{className:St(It.wrapper,E&&It.showClear,ae&&It.showToggle)},I&&I({inputValue:Y,items:N,selectedItem:L,setSelectedItem:V}),(0,e.createElement)("div",{className:It.inputWrapper},(0,e.createElement)("input",{placeholder:p,className:St(It.input),type:"text",onKeyDown:se,...W({ref:P,onKeyDown:se})}),E&&Y&&(0,e.createElement)(i.Button,{className:It.clear,icon:xt,label:(0,s.__)("Clear","generateblocks-pro"),onClick:()=>{l&&l(),F()}}),(N.length>0||D)&&(0,e.createElement)("button",{"aria-label":(0,s.__)("toggle menu","generateblocks-pro"),className:St(It.toggle,"gb-autocomplete__toggle"),type:"button",...G()},(0,e.createElement)("svg",{className:It.arrow,viewBox:"0 0 20 20",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{transform:j?"rotate(180)":void 0,d:"M5 6l5 5 5-5 2 1-7 7-7-7 2-1z",fill:"#555",style:{transformOrigin:"center"}})))),x&&x({inputValue:Y,items:N,selectedItem:L,setSelectedItem:V})),(0,e.createElement)("ul",{...Q({ref:q,className:St(It.menu,(!j||!ae)&&It.hidden)})},R?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{key:"total-size",style:{height:B.getTotalSize(),marginBottom:0}}),B.getVirtualItems().map((({index:t,size:n,start:r})=>{var o;const i=N[t],s=i[b]||i.value||i,a=null!==(o=i?.className)&&void 0!==o?o:"";return(0,e.createElement)("li",{className:St($===t&&It.focused,L===i&&It.selected,It.option,a),key:`${s}${t}`,...X({index:t,item:i}),style:{position:"absolute",top:0,left:0,width:"100%",height:n,transform:`translateY(${r}px)`}},(0,e.createElement)("span",null,s))}))):j&&N.map(((t,n)=>{const r=Array.isArray(t?.[C]),o=t[b]||t.value||t;return(0,e.createElement)("li",{className:St(!r&&$===n&&["is-focused",It.focused],!r&&L===t&&["is-selected",It.selected],r?["gb-autocomplete__group",It.group]:["gb-autocomplete__option",It.option],t?.className),key:`${t}${n}`,"data-index":n,...r?{}:X({item:t,index:n})},(0,e.createElement)("div",{className:St(r&&It.groupLabel)},o),r&&(0,e.createElement)("ul",{className:It.nestedMenu},t[C].map((t=>{const n=ie;return ie++,(0,e.createElement)("li",{className:St($===n&&["is-focused",It.focused],L===t&&["is-selected",It.selected],It.option,t?.className,"gb-autocomplete__option"),"data-sub-item":!0,"data-index":n,key:`${t}${n}`,...X({item:t,index:n})},(0,e.createElement)("span",null,t[b]||t.value||t))}))))})),0===N.length&&D&&(0,e.createElement)("li",{className:St(It.option,"gb-autocomplete__option")},(0,e.createElement)("span",null,D))))))}));Mt.groupItemFilter=function(e,t,n){return Array.isArray(e)?e.map((e=>{const{items:r=[]}=e;return{...e,items:r.filter((e=>n(e).toLowerCase().includes(t.toLowerCase())))}})).filter((e=>e.items.length>0)):[]};const Ot=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)("rect",{x:"0",fill:"none",width:"20",height:"20"}),(0,e.createElement)("g",null,(0,e.createElement)("path",{d:"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"})));function Dt(e){return e.length>0?e.reduce(((e,t)=>Array.isArray(t.items)?[...e,...t.items]:[...e,t]),[]):[]}function Pt({label:t,placeholder:n,onChange:r,onInputChange:a,className:l,help:u,noResultsText:c=(0,s.__)("No results.","generateblocks"),itemLabelKey:d="label",itemValueKey:h="value",itemInfoKey:g="info",toStringKey:p="label",groupItemsKey:f="items",value:m=[],options:v=[]}){const b=v.some((e=>Array.isArray(e[f])));function y(e){return e?e["label"===p?d:h]||e:""}const w=(0,o.useCallback)((function(e,t){return v.filter((n=>{if(""===t&&0===e.length)return!0;const r=n[d]?n[d].toLowerCase():"",o=n[h]?`${n[h]}`.toLowerCase():"",i=r.includes(t.toLowerCase())||o.includes(t.toLowerCase()),s=e.some((e=>o.includes(`${e}`?.toLowerCase()?.trim())));return!s&&i}))}),[v,d,h]),C=(0,o.useCallback)((function(e,t){return Array.isArray(v)?v.map((n=>{const{items:r=[]}=n;return{...n,items:r.filter((n=>{const r=n[d]?n[d].toLowerCase():"",o=n[h]?`${n[h]}`.toLowerCase():"",i=o.includes(t.toLowerCase())||r.includes(t.toLowerCase()),s=e.some((e=>`${e}`.toLowerCase().includes(o)));return!s&&i}))}})).filter((e=>e.items.length>0)):[]}),[v,d,h]),S=b?C:w,[I,x]=(0,o.useState)(""),[R,E]=(0,o.useState)(Array.isArray(m)?m:[m]),M=(0,o.useMemo)((()=>S(R,I)),[v,R,I]),{getSelectedItemProps:O,getDropdownProps:D,removeSelectedItem:P}=ot({selectedItems:R,onStateChange({selectedItems:e,type:t}){switch(t){case ot.stateChangeTypes.SelectedItemKeyDownBackspace:case ot.stateChangeTypes.SelectedItemKeyDownDelete:case ot.stateChangeTypes.DropdownKeyDownBackspace:case ot.stateChangeTypes.FunctionRemoveSelectedItem:E(e),r&&r(e)}}}),{isOpen:_,getToggleButtonProps:k,getLabelProps:F,getMenuProps:T,getInputProps:N,highlightedIndex:A,getItemProps:L,selectedItem:V}=ke({itemToKey:e=>{var t,n;return null!==(t=null!==(n=e?.id)&&void 0!==n?n:e?.[h])&&void 0!==t?t:e},items:Dt(M),itemToString:y,defaultHighlightedIndex:0,selectedItem:null,inputValue:I,stateReducer(e,t){const{changes:n,type:r}=t;switch(r){case ke.stateChangeTypes.InputKeyDownEnter:case ke.stateChangeTypes.ItemClick:return{...n,isOpen:!0,highlightedIndex:0};default:return n}},onStateChange({inputValue:e,type:t,selectedItem:n}){switch(t){case ke.stateChangeTypes.InputKeyDownEnter:case ke.stateChangeTypes.ItemClick:case ke.stateChangeTypes.InputBlur:if(n){const e=[...R,n.value];E(e),x(""),r&&r(e)}break;case ke.stateChangeTypes.InputChange:x(e),a&&a(e)}}}),{id:z,...H}=F();let q=0;return(0,e.createElement)(i.BaseControl,{...H,id:z,className:"gb-multiselect",help:u,label:t},(0,e.createElement)("div",{className:St(It.control,l)},R.length>0&&(0,e.createElement)("div",{className:It.selectedItems},R.map((function(t,n){const r=function(e,t,n){var r;return null!==(r=Dt(e).find((e=>`${e[n]}`==`${t}`)))&&void 0!==r?r:null}(v,t,h),o=!isNaN(t);let a=y(r);return a||(a=o?`#${t}`:t),(0,e.createElement)("span",{className:St(It.selectedItem,"gb-multiselect__selected-item"),key:`selected-item-${n}`,...O({selectedItem:t,index:n})},a,(0,e.createElement)(i.Button,{className:It.selectedItemButton,onClick:e=>{e.stopPropagation(),P(t)},size:"small",icon:Ot,label:(0,s.sprintf)(
// Translators: %s is the selected item to be removed.
// Translators: %s is the selected item to be removed.
(0,s.__)("Remove %s","generateblocks-pro"),a)}))}))),(0,e.createElement)("div",{className:St(It.wrapper)},(0,e.createElement)("div",{className:It.inputWrapper},(0,e.createElement)("input",{placeholder:n,className:It.input,type:"text",...N(D({preventKeyAction:_}))}),(0,e.createElement)("button",{"aria-label":(0,s.__)("toggle menu","generateblocks-pro"),type:"button",className:St(It.toggle,"gb-multiselect__toggle"),...k()},(0,e.createElement)("svg",{className:It.arrow,viewBox:"0 0 20 20",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{transform:_?"rotate(180)":void 0,d:"M5 6l5 5 5-5 2 1-7 7-7-7 2-1z",fill:"#555",style:{transformOrigin:"center"}})))))),(0,e.createElement)("ul",{className:St(It.menu,!(_&&M.length)&&It.hidden),...T()},_&&M.map(((t,n)=>{const r=Array.isArray(t?.[f]),o=t[d]||t.value||t;return(0,e.createElement)("li",{className:St(!r&&A===n&&["is-focused",It.focused],!r&&V===t&&["is-selected",It.selected],r?["gb-multiselect__group",It.group]:["gb-multiselect__option",It.option],t?.className),key:`${t}${n}`,"data-index":n,...r?{}:L({item:t,index:n})},(0,e.createElement)("div",{className:St(r&&It.groupLabel)},o),t[g]&&(0,e.createElement)("div",{className:It.info},t[g]),r&&(0,e.createElement)("ul",{className:It.nestedMenu},t[f].map((t=>{const n=q;return q++,(0,e.createElement)("li",{className:St(A===n&&["is-focused",It.focused],V===t&&["is-selected",It.selected],It.option,t?.className,"gb-multiselect__option"),"data-sub-item":!0,"data-index":n,key:`${t}${n}`,...L({item:t,index:n})},(0,e.createElement)("div",null,t[d]||t.value||t),t[g]&&(0,e.createElement)("div",{className:It.info},t[g]))}))))})),_&&0===M.length&&c&&(0,e.createElement)("li",{className:St(It.option,"gb-multiselect__option")},(0,e.createElement)("span",null,c))))}const _t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let kt;const Ft=new Uint8Array(16);function Tt(){if(!kt&&(kt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kt(Ft)}const Nt=[];for(let e=0;e<256;++e)Nt.push((e+256).toString(16).slice(1));const At=function(e,t,n){if(_t.randomUUID&&!t&&!e)return _t.randomUUID();const r=(e=e||{}).random||(e.rng||Tt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return Nt[e[t+0]]+Nt[e[t+1]]+Nt[e[t+2]]+Nt[e[t+3]]+"-"+Nt[e[t+4]]+Nt[e[t+5]]+"-"+Nt[e[t+6]]+Nt[e[t+7]]+"-"+Nt[e[t+8]]+Nt[e[t+9]]+"-"+Nt[e[t+10]]+Nt[e[t+11]]+Nt[e[t+12]]+Nt[e[t+13]]+Nt[e[t+14]]+Nt[e[t+15]]}(r)},Lt=(0,o.forwardRef)((function({id:t,label:n,value:r,checked:i,onChange:a,indeterminate:l,"aria-label":u,className:c,...d},h){const g=t||At(),p=(0,o.useRef)(),f=h||p;if((0,o.useLayoutEffect)((()=>{f.current&&(f.current.indeterminate=l)}),[f.current]),!u&&!n)throw new Error((0,s.__)("Checkbox must have an accessible label","generateblocks-pro"));return(0,e.createElement)("div",{className:"components-checkbox-control gb-checkbox"},(0,e.createElement)("span",{className:"components-checkbox-control__input-container"},(0,e.createElement)("input",{type:"checkbox",className:St("components-checkbox-control__input",c),id:g,checked:i,onChange:a,value:r,"aria-label":u,ref:f,...d}),l&&!i&&(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"presentation",className:"components-checkbox-control__indeterminate","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M7 11.5h10V13H7z"})),i&&(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"presentation",className:"components-checkbox-control__checked","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}))),n&&(0,e.createElement)("label",{htmlFor:g,className:"components-checkbox-control__label"},n))})),Vt=window.wp.compose,zt=window.wp.blockEditor,Ht=window.wp.hooks;function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Kt(t){var n=(0,e.useRef)(t),r=(0,e.useRef)((function(e){n.current&&n.current(e)}));return n.current=t,r.current}var jt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},Gt=function(e){return"touches"in e},Ut=function(e){return e&&e.ownerDocument.defaultView||self},Qt=function(e,t,n){var r=e.getBoundingClientRect(),o=Gt(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:jt((o.pageX-(r.left+Ut(e).pageXOffset))/r.width),top:jt((o.pageY-(r.top+Ut(e).pageYOffset))/r.height)}},Wt=function(e){!Gt(e)&&e.preventDefault()},$t=e.memo((function(t){var n=t.onMove,r=t.onKey,o=Bt(t,["onMove","onKey"]),i=(0,e.useRef)(null),s=Kt(n),a=Kt(r),l=(0,e.useRef)(null),u=(0,e.useRef)(!1),c=(0,e.useMemo)((function(){var e=function(e){Wt(e),(Gt(e)?e.touches.length>0:e.buttons>0)&&i.current?s(Qt(i.current,e,l.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=u.current,o=Ut(i.current),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(Wt(t),!function(e,t){return t&&!Gt(e)}(t,u.current)&&r)){if(Gt(t)){u.current=!0;var o=t.changedTouches||[];o.length&&(l.current=o[0].identifier)}r.focus(),s(Qt(r,t,l.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),a({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[a,s]),d=c[0],h=c[1],g=c[2];return(0,e.useEffect)((function(){return g}),[g]),e.createElement("div",qt({},o,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))})),Xt=function(e){return e.filter(Boolean).join(" ")},Yt=function(t){var n=t.color,r=t.left,o=t.top,i=void 0===o?.5:o,s=Xt(["react-colorful__pointer",t.className]);return e.createElement("div",{className:s,style:{top:100*i+"%",left:100*r+"%"}},e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},Jt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},Zt=(Math.PI,function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Jt(e.h),s:Jt(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Jt(o/2),a:Jt(r,2)}}),en=function(e){var t=Zt(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},tn=function(e){var t=Zt(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},nn=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),s=r*(1-n),a=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),u=i%6;return{r:Jt(255*[r,a,s,s,l,r][u]),g:Jt(255*[l,r,r,a,s,s][u]),b:Jt(255*[s,s,l,r,r,a][u]),a:Jt(o,2)}},rn=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?sn({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},on=rn,sn=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),s=i-Math.min(t,n,r),a=s?i===t?(n-r)/s:i===n?2+(r-t)/s:4+(t-n)/s:0;return{h:Jt(60*(a<0?a+6:a)),s:Jt(i?s/i*100:0),v:Jt(i/255*100),a:o}},an=e.memo((function(t){var n=t.hue,r=t.onChange,o=Xt(["react-colorful__hue",t.className]);return e.createElement("div",{className:o},e.createElement($t,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:jt(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":Jt(n),"aria-valuemax":"360","aria-valuemin":"0"},e.createElement(Yt,{className:"react-colorful__hue-pointer",left:n/360,color:en({h:n,s:100,v:100,a:1})})))})),ln=e.memo((function(t){var n=t.hsva,r=t.onChange,o={backgroundColor:en({h:n.h,s:100,v:100,a:1})};return e.createElement("div",{className:"react-colorful__saturation",style:o},e.createElement($t,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:jt(n.s+100*e.left,0,100),v:jt(n.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Jt(n.s)+"%, Brightness "+Jt(n.v)+"%"},e.createElement(Yt,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:en(n)})))})),un=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function cn(t,n,r){var o=Kt(r),i=(0,e.useState)((function(){return t.toHsva(n)})),s=i[0],a=i[1],l=(0,e.useRef)({color:n,hsva:s});(0,e.useEffect)((function(){if(!t.equal(n,l.current.color)){var e=t.toHsva(n);l.current={hsva:e,color:n},a(e)}}),[n,t]),(0,e.useEffect)((function(){var e;(function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0})(s,l.current.hsva)||t.equal(e=t.fromHsva(s),l.current.color)||(l.current={hsva:s,color:e},o(e))}),[s,t,o]);var u=(0,e.useCallback)((function(e){a((function(t){return Object.assign({},t,e)}))}),[]);return[s,u]}var dn="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,hn=new Map,gn=function(e){dn((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!hn.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',hn.set(t,r);var o=n.nc;o&&r.setAttribute("nonce",o),t.head.appendChild(r)}}),[])},pn=function(t){var n=t.className,r=t.colorModel,o=t.color,i=void 0===o?r.defaultColor:o,s=t.onChange,a=Bt(t,["className","colorModel","color","onChange"]),l=(0,e.useRef)(null);gn(l);var u=cn(r,i,s),c=u[0],d=u[1],h=Xt(["react-colorful",n]);return e.createElement("div",qt({},a,{ref:l,className:h}),e.createElement(ln,{hsva:c,onChange:d}),e.createElement(an,{hue:c.h,onChange:d,className:"react-colorful__last-control"}))},fn=function(t){var n=t.className,r=t.hsva,o=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+tn(Object.assign({},r,{a:0}))+", "+tn(Object.assign({},r,{a:1}))+")"},s=Xt(["react-colorful__alpha",n]),a=Jt(100*r.a);return e.createElement("div",{className:s},e.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),e.createElement($t,{onMove:function(e){o({a:e.left})},onKey:function(e){o({a:jt(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},e.createElement(Yt,{className:"react-colorful__alpha-pointer",left:r.a,color:tn(r)})))},mn=function(t){var n=t.className,r=t.colorModel,o=t.color,i=void 0===o?r.defaultColor:o,s=t.onChange,a=Bt(t,["className","colorModel","color","onChange"]),l=(0,e.useRef)(null);gn(l);var u=cn(r,i,s),c=u[0],d=u[1],h=Xt(["react-colorful",n]);return e.createElement("div",qt({},a,{ref:l,className:h}),e.createElement(ln,{hsva:c,onChange:d}),e.createElement(an,{hue:c.h,onChange:d}),e.createElement(fn,{hsva:c,onChange:d,className:"react-colorful__last-control"}))},vn={defaultColor:"rgba(0, 0, 0, 1)",toHsva:rn,fromHsva:function(e){var t=nn(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:un},bn=function(t){return e.createElement(mn,qt({},t,{colorModel:vn}))},yn={defaultColor:"rgb(0, 0, 0)",toHsva:on,fromHsva:function(e){var t=nn(e);return"rgb("+t.r+", "+t.g+", "+t.b+")"},equal:un},wn=function(t){return e.createElement(pn,qt({},t,{colorModel:yn}))},Cn={grad:.9,turn:360,rad:360/(2*Math.PI)},Sn=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},In=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},xn=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Rn=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},En=function(e){return{r:xn(e.r,0,255),g:xn(e.g,0,255),b:xn(e.b,0,255),a:xn(e.a)}},Mn=function(e){return{r:In(e.r),g:In(e.g),b:In(e.b),a:In(e.a,3)}},On=/^#([0-9a-f]{3,8})$/i,Dn=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Pn=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),s=i-Math.min(t,n,r),a=s?i===t?(n-r)/s:i===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(a<0?a+6:a),s:i?s/i*100:0,v:i/255*100,a:o}},kn=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),s=r*(1-n),a=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),u=i%6;return{r:255*[r,a,s,s,l,r][u],g:255*[l,r,r,a,s,s][u],b:255*[s,s,l,r,r,a][u],a:o}},Fn=function(e){return{h:Rn(e.h),s:xn(e.s,0,100),l:xn(e.l,0,100),a:xn(e.a)}},Tn=function(e){return{h:In(e.h),s:In(e.s),l:In(e.l),a:In(e.a,3)}},Nn=function(e){return kn((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},An=function(e){return{h:(t=Pn(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},Ln=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vn=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zn=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hn=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qn={string:[[function(e){var t=On.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?In(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?In(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=zn.exec(e)||Hn.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:En({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Ln.exec(e)||Vn.exec(e);if(!t)return null;var n,r,o=Fn({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Cn[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Nn(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=void 0===o?1:o;return Sn(t)&&Sn(n)&&Sn(r)?En({r:Number(t),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,i=void 0===o?1:o;if(!Sn(t)||!Sn(n)||!Sn(r))return null;var s=Fn({h:Number(t),s:Number(n),l:Number(r),a:Number(i)});return Nn(s)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,i=void 0===o?1:o;if(!Sn(t)||!Sn(n)||!Sn(r))return null;var s=function(e){return{h:Rn(e.h),s:xn(e.s,0,100),v:xn(e.v,0,100),a:xn(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(i)});return kn(s)},"hsv"]]},Bn=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Kn=function(e,t){var n=An(e);return{h:n.h,s:xn(n.s+100*t,0,100),l:n.l,a:n.a}},jn=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Gn=function(e,t){var n=An(e);return{h:n.h,s:n.s,l:xn(n.l+100*t,0,100),a:n.a}},Un=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Bn(e.trim(),qn.string):"object"==typeof e&&null!==e?Bn(e,qn.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return In(jn(this.rgba),2)},e.prototype.isDark=function(){return jn(this.rgba)<.5},e.prototype.isLight=function(){return jn(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Mn(this.rgba)).r,n=e.g,r=e.b,i=(o=e.a)<1?Dn(In(255*o)):"","#"+Dn(t)+Dn(n)+Dn(r)+i;var e,t,n,r,o,i},e.prototype.toRgb=function(){return Mn(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Mn(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return Tn(An(this.rgba))},e.prototype.toHslString=function(){return t=(e=Tn(An(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=Pn(this.rgba),{h:In(e.h),s:In(e.s),v:In(e.v),a:In(e.a,3)};var e},e.prototype.invert=function(){return Qn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Qn(Kn(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Qn(Kn(this.rgba,-e))},e.prototype.grayscale=function(){return Qn(Kn(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Qn(Gn(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Qn(Gn(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Qn({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):In(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=An(this.rgba);return"number"==typeof e?Qn({h:e,s:t.s,l:t.l,a:t.a}):In(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Qn(e).toHex()},e}(),Qn=function(e){return e instanceof Un?e:new Un(e)};const Wn={control:"YDwIoFtslwF2c8xIBpvb",toggleButton:"hQXw3nnQznuS6OnjN6JV",toggleIndicator:"TPAsdooWSop854HDRQZp",content:"ZyfVFqsx17SdLqSOXFIW",inputWrapper:"XazzLfVvGZ5O6rOLyrna",input:"NqMvvamI9AIYQPfePPBK",clear:"KNXiumLVj5JnxOFfa9N4",palette:"otgGoiSCWMMZ9DzOEeO9",opacity:"mApEoqghAtCV3jFJeMD3"},$n="gb-color-picker-palettes";function Xn(e){return e?.color?.startsWith("var(")?{...e,color:e.color}:{...e,color:`var(--wp--preset--color--${e.slug}, ${e.color})`}}function Yn(t){const{value:n,onChange:r,label:a,tooltip:l,"aria-label":u,colors:c,renderToggle:d,onClick:h,onOpacityChange:g,valueOpacity:p=1}=t,[f,m]=(0,o.useState)(n||""),v=(0,o.useRef)(null),b=1!==p?wn:bn,y=(0,o.useMemo)((()=>(e=>{if(String(e).startsWith("var(")){const t=e.match(/\(([^)]+)\)/);if(t){const n=getComputedStyle(document.documentElement).getPropertyValue(t[1]);n&&(e=n)}}return Qn(e).toRgbString()})(n)),[n]),w=(0,Vt.useDebounce)(r,100);(0,o.useEffect)((()=>{n!==f&&m(n)}),[n]),(0,o.useEffect)((()=>{n!==f&&w(f);const e=setTimeout((()=>{v.current&&v.current.focus()}),10);return()=>clearTimeout(e)}),[f]);const C=function(){const[e=[],t=[]]=(0,zt.useSettings)("color.palette.custom","color.palette.theme");return(0,o.useMemo)((()=>[...e.map(Xn),...t.map(Xn)]),[e,t])}(),S=(0,Ht.applyFilters)("generateblocks.components.colorPalettes",c||C,t,C);(0,o.useEffect)((()=>{sessionStorage.setItem($n,JSON.stringify(S))}),[S]);const I=At();return(0,e.createElement)(i.BaseControl,{id:I,label:a,className:St("gb-color-picker",Wn.control),"data-gb-control":"ColorPickerControl"},(0,e.createElement)(i.Dropdown,{className:Wn.toggle,contentClassName:Wn.content,placement:"top left",renderToggle:({isOpen:t,onToggle:r})=>{if(d)return d({isOpen:t,onToggle:r});const o=(0,e.createElement)(i.Button,{className:Wn.toggleButton,onClick:()=>{r(),h&&h()},"aria-expanded":t,"aria-label":u},(0,e.createElement)("span",{className:Wn.toggleIndicator,style:{background:n?(s=n,a=p,s?(a||0===a)&&1!==a&&s.startsWith("#")?Qn(s).alpha(a).toRgbString():s:""):null}}));var s,a;return(0,e.createElement)(e.Fragment,null,l?(0,e.createElement)(i.Tooltip,{text:l},o):o)},renderContent:()=>{const t=sessionStorage.getItem($n),r=sessionStorage?JSON.parse(t):S;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{color:y,onChange:e=>{Qn(e).isValid()&&(e=1===Qn(e).alpha()?Qn(e).toHex():e),m(e)}}),(0,e.createElement)("div",{className:Wn.inputWrapper},(0,e.createElement)(i.TextControl,{ref:v,className:Wn.input,type:"text",value:f,onChange:e=>{!e.startsWith("#")&&/^([0-9A-F]{3}){1,2}$/i.test(e)&&(e="#"+e),m(e)},onBlur:()=>{Qn(n).isValid()&&1===Qn(n).alpha()&&m(Qn(n).toHex())}}),(0,e.createElement)(i.Button,{size:"small",variant:"secondary",className:Wn.clear,onClick:()=>{m(""),1!==p&&g(1)}},(0,s.__)("Clear","generateblocks"))),1!==p&&(0,e.createElement)("div",{className:Wn.opacity},(0,e.createElement)(i.RangeControl,{label:(0,s.__)("Opacity","generateblocks"),value:p||0,onChange:e=>g(e),min:0,max:1,step:.01,initialPosition:1})),(0,e.createElement)(i.BaseControl,{className:Wn.palette},(0,e.createElement)(zt.ColorPalette,{colors:r,value:n||"",onChange:e=>{m(e)},disableCustomColors:!0,clearable:!1})))}}))}const Jn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Zn(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function er(e){return"nodeType"in e}function tr(e){var t,n;return e?Zn(e)?e:er(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function nr(e){const{Document:t}=tr(e);return e instanceof t}function rr(e){return!Zn(e)&&e instanceof tr(e).HTMLElement}function or(e){return e instanceof tr(e).SVGElement}function ir(e){return e?Zn(e)?e.document:er(e)?nr(e)?e:rr(e)||or(e)?e.ownerDocument:document:document:document}const sr=Jn?e.useLayoutEffect:e.useEffect;function ar(t){const n=(0,e.useRef)(t);return sr((()=>{n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function lr(t,n){void 0===n&&(n=[t]);const r=(0,e.useRef)(t);return sr((()=>{r.current!==t&&(r.current=t)}),n),r}function ur(t,n){const r=(0,e.useRef)();return(0,e.useMemo)((()=>{const e=t(r.current);return r.current=e,e}),[...n])}function cr(t){const n=ar(t),r=(0,e.useRef)(null),o=(0,e.useCallback)((e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e}),[]);return[r,o]}function dr(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current}let hr={};function gr(t,n){return(0,e.useMemo)((()=>{if(n)return n;const e=null==hr[t]?0:hr[t]+1;return hr[t]=e,t+"-"+e}),[t,n])}function pr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const fr=pr(1),mr=pr(-1);function vr(e){if(!e)return!1;const{KeyboardEvent:t}=tr(e.target);return t&&e instanceof t}function br(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=tr(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const yr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[yr.Translate.toString(e),yr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),wr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cr(e){return e.matches(wr)?e:e.querySelector(wr)}const Sr={display:"none"};function Ir(e){let{id:n,value:r}=e;return t().createElement("div",{id:n,style:Sr},r)}function xr(e){let{id:n,announcement:r,ariaLiveType:o="assertive"}=e;return t().createElement("div",{id:n,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const Rr=(0,e.createContext)(null),Er={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Mr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Or(n){let{announcements:r=Mr,container:o,hiddenTextDescribedById:i,screenReaderInstructions:s=Er}=n;const{announce:a,announcement:l}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:t}}(),u=gr("DndLiveRegion"),[c,d]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{d(!0)}),[]),function(t){const n=(0,e.useContext)(Rr);(0,e.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)}),[t,n])}((0,e.useMemo)((()=>({onDragStart(e){let{active:t}=e;a(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;r.onDragMove&&a(r.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;a(r.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;a(r.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;a(r.onDragCancel({active:t,over:n}))}})),[a,r])),!c)return null;const h=t().createElement(t().Fragment,null,t().createElement(Ir,{id:i,value:s.draggable}),t().createElement(xr,{id:u,announcement:l}));return o?(0,it.createPortal)(h,o):h}var Dr;function Pr(){}function _r(t,n){return(0,e.useMemo)((()=>({sensor:t,options:null!=n?n:{}})),[t,n])}function kr(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>[...n].filter((e=>null!=e))),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Dr||(Dr={}));const Fr=Object.freeze({x:0,y:0});function Tr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Nr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ar(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Lr(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Vr(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function zr(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Hr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=zr(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Tr(zr(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(Nr)};function qr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=s*a;return Number((o/(n+r-o)).toFixed(4))}return 0}const Br=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=qr(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(Ar)};function Kr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fr}function jr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const Gr=jr(1);const Ur={ignoreTransform:!1};function Qr(e,t){void 0===t&&(t=Ur);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=tr(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),c=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function Wr(e){return Qr(e,{ignoreTransform:!0})}function $r(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(nr(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!rr(o)||or(o))return n;if(n.includes(o))return n;const i=tr(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=tr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=tr(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function Xr(e){const[t]=$r(e,1);return null!=t?t:null}function Yr(e){return Jn&&e?Zn(e)?e:er(e)?nr(e)||e===ir(e).scrollingElement?window:rr(e)?e:null:null:null}function Jr(e){return Zn(e)?e.scrollX:e.scrollLeft}function Zr(e){return Zn(e)?e.scrollY:e.scrollTop}function eo(e){return{x:Jr(e),y:Zr(e)}}var to;function no(e){return!(!Jn||!e)&&e===document.scrollingElement}function ro(e){const t={x:0,y:0},n=no(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(to||(to={}));const oo={x:.2,y:.2};function io(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=oo);const{isTop:u,isBottom:c,isLeft:d,isRight:h}=ro(e),g={x:0,y:0},p={x:0,y:0},f=t.height*o.y,m=t.width*o.x;return!u&&i<=t.top+f?(g.y=to.Backward,p.y=r*Math.abs((t.top+f-i)/f)):!c&&l>=t.bottom-f&&(g.y=to.Forward,p.y=r*Math.abs((t.bottom-f-l)/f)),!h&&a>=t.right-m?(g.x=to.Forward,p.x=r*Math.abs((t.right-m-a)/m)):!d&&s<=t.left+m&&(g.x=to.Backward,p.x=r*Math.abs((t.left+m-s)/m)),{direction:g,speed:p}}function so(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function ao(e){return e.reduce(((e,t)=>fr(e,eo(t))),Fr)}const lo=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Jr(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Zr(t)),0)}]];class uo{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=$r(t),r=ao(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of lo)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),s=r[e]-t;return this.rect[i]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class co{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ho(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var go,po;function fo(e){e.preventDefault()}function mo(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(go||(go={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(po||(po={}));const vo={start:[po.Space,po.Enter],cancel:[po.Esc],end:[po.Space,po.Enter]},bo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case po.Right:return{...n,x:n.x+25};case po.Left:return{...n,x:n.x-25};case po.Down:return{...n,y:n.y+25};case po.Up:return{...n,y:n.y-25}}};class yo{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new co(ir(t)),this.windowListeners=new co(tr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(go.Resize,this.handleCancel),this.windowListeners.add(go.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(go.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Qr),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Xr(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Fr)}handleKeyDown(e){if(vr(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=vo,coordinateGetter:i=bo,scrollBehavior:s="smooth"}=r,{code:a}=e;if(o.end.includes(a))return void this.handleEnd(e);if(o.cancel.includes(a))return void this.handleCancel(e);const{collisionRect:l}=n.current,u=l?{x:l.left,y:l.top}:Fr;this.referenceCoordinates||(this.referenceCoordinates=u);const c=i(e,{active:t,context:n.current,currentCoordinates:u});if(c){const t=mr(c,u),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:a,isLeft:l,isBottom:u,maxScroll:d,minScroll:h}=ro(n),g=so(n),p={x:Math.min(o===po.Right?g.right-g.width/2:g.right,Math.max(o===po.Right?g.left:g.left+g.width/2,c.x)),y:Math.min(o===po.Down?g.bottom-g.height/2:g.bottom,Math.max(o===po.Down?g.top:g.top+g.height/2,c.y))},f=o===po.Right&&!a||o===po.Left&&!l,m=o===po.Down&&!u||o===po.Up&&!i;if(f&&p.x!==c.x){const e=n.scrollLeft+t.x,i=o===po.Right&&e<=d.x||o===po.Left&&e>=h.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:s});r.x=i?n.scrollLeft-e:o===po.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:s});break}if(m&&p.y!==c.y){const e=n.scrollTop+t.y,i=o===po.Down&&e<=d.y||o===po.Up&&e>=h.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:s});r.y=i?n.scrollTop-e:o===po.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:s});break}}this.handleMove(e,fr(mr(c,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function wo(e){return Boolean(e&&"distance"in e)}function Co(e){return Boolean(e&&"delay"in e)}yo.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=vo,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class So{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=tr(e);return e instanceof t?e:ir(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=ir(i),this.documentListeners=new co(this.document),this.listeners=new co(n),this.windowListeners=new co(tr(i)),this.initialCoordinates=null!=(r=br(o))?r:Fr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(go.Resize,this.handleCancel),this.windowListeners.add(go.DragStart,fo),this.windowListeners.add(go.VisibilityChange,this.handleCancel),this.windowListeners.add(go.ContextMenu,fo),this.documentListeners.add(go.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Co(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(wo(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(go.Click,mo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(go.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:s}}=o;if(!r)return;const a=null!=(t=br(e))?t:Fr,l=mr(r,a);if(!n&&s){if(wo(s)){if(null!=s.tolerance&&ho(l,s.tolerance))return this.handleCancel();if(ho(l,s.distance))return this.handleStart()}return Co(s)&&ho(l,s.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===po.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Io={move:{name:"pointermove"},end:{name:"pointerup"}};class xo extends So{constructor(e){const{event:t}=e,n=ir(t.target);super(e,Io,n)}}xo.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const Ro={move:{name:"mousemove"},end:{name:"mouseup"}};var Eo;!function(e){e[e.RightClick=2]="RightClick"}(Eo||(Eo={})),class extends So{constructor(e){super(e,Ro,ir(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Eo.RightClick&&(null==r||r({event:n}),!0)}}];const Mo={move:{name:"touchmove"},end:{name:"touchend"}};var Oo,Do;(class extends So{constructor(e){super(e,Mo)}static setup(){return window.addEventListener(Mo.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Mo.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Oo||(Oo={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Do||(Do={}));const Po={x:{[to.Backward]:!1,[to.Forward]:!1},y:{[to.Backward]:!1,[to.Forward]:!1}};var _o,ko;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(_o||(_o={})),function(e){e.Optimized="optimized"}(ko||(ko={}));const Fo=new Map;function To(e,t){return ur((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function No(t){let{callback:n,disabled:r}=t;const o=ar(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)}),[r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function Ao(e){return new uo(Qr(e),e)}function Lo(t,n,r){void 0===n&&(n=Ao);const[o,i]=(0,e.useReducer)((function(e){if(!t)return null;var o;if(!1===t.isConnected)return null!=(o=null!=e?e:r)?o:null;const i=n(t);return JSON.stringify(e)===JSON.stringify(i)?e:i}),null),s=function(t){let{callback:n,disabled:r}=t;const o=ar(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)}),[o,r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){i();break}}}}),a=No({callback:i});return sr((()=>{i(),t?(null==a||a.observe(t),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==a||a.disconnect(),null==s||s.disconnect())}),[t]),o}const Vo=[];function zo(t,n){void 0===n&&(n=[]);const r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{r.current=null}),n),(0,e.useEffect)((()=>{const e=t!==Fr;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)}),[t]),r.current?mr(t,r.current):Fr}function Ho(t){return(0,e.useMemo)((()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null),[t])}const qo=[];const Bo=[{sensor:xo,options:{}},{sensor:yo,options:{}}],Ko={current:{}},jo={draggable:{measure:Wr},droppable:{measure:Wr,strategy:_o.WhileDragging,frequency:ko.Optimized},dragOverlay:{measure:Qr}};class Go extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Uo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Go,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:jo,measureDroppableContainers:Pr,windowRect:null,measuringScheduled:!1},Qo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Pr,draggableNodes:new Map,over:null,measureDroppableContainers:Pr},Wo=(0,e.createContext)(Qo),$o=(0,e.createContext)(Uo);function Xo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Go}}}function Yo(e,t){switch(t.type){case Dr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Dr.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Dr.DragEnd:case Dr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dr.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Go(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Dr.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Go(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Dr.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Go(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Jo(t){let{disabled:n}=t;const{active:r,activatorEvent:o,draggableNodes:i}=(0,e.useContext)(Wo),s=dr(o),a=dr(null==r?void 0:r.id);return(0,e.useEffect)((()=>{if(!n&&!o&&s&&null!=a){if(!vr(s))return;if(document.activeElement===s.target)return;const e=i.get(a);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Cr(e);if(t){t.focus();break}}}))}}),[o,n,i,a,s]),null}const Zo=(0,e.createContext)({...Fr,scaleX:1,scaleY:1});var ei;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ei||(ei={}));const ti=(0,e.memo)((function(n){var r,o,i,s;let{id:a,accessibility:l,autoScroll:u=!0,children:c,sensors:d=Bo,collisionDetection:h=Br,measuring:g,modifiers:p,...f}=n;const m=(0,e.useReducer)(Yo,void 0,Xo),[v,b]=m,[y,w]=function(){const[t]=(0,e.useState)((()=>new Set)),n=(0,e.useCallback)((e=>(t.add(e),()=>t.delete(e))),[t]);return[(0,e.useCallback)((e=>{let{type:n,event:r}=e;t.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[t]),n]}(),[C,S]=(0,e.useState)(ei.Uninitialized),I=C===ei.Initialized,{draggable:{active:x,nodes:R,translate:E},droppable:{containers:M}}=v,O=x?R.get(x):null,D=(0,e.useRef)({initial:null,translated:null}),P=(0,e.useMemo)((()=>{var e;return null!=x?{id:x,data:null!=(e=null==O?void 0:O.data)?e:Ko,rect:D}:null}),[x,O]),_=(0,e.useRef)(null),[k,F]=(0,e.useState)(null),[T,N]=(0,e.useState)(null),A=lr(f,Object.values(f)),L=gr("DndDescribedBy",a),V=(0,e.useMemo)((()=>M.getEnabled()),[M]),z=(H=g,(0,e.useMemo)((()=>({draggable:{...jo.draggable,...null==H?void 0:H.draggable},droppable:{...jo.droppable,...null==H?void 0:H.droppable},dragOverlay:{...jo.dragOverlay,...null==H?void 0:H.dragOverlay}})),[null==H?void 0:H.draggable,null==H?void 0:H.droppable,null==H?void 0:H.dragOverlay]));var H;const{droppableRects:q,measureDroppableContainers:B,measuringScheduled:K}=function(t,n){let{dragging:r,dependencies:o,config:i}=n;const[s,a]=(0,e.useState)(null),{frequency:l,measure:u,strategy:c}=i,d=(0,e.useRef)(t),h=function(){switch(c){case _o.Always:return!1;case _o.BeforeDragging:return r;default:return!r}}(),g=lr(h),p=(0,e.useCallback)((function(e){void 0===e&&(e=[]),g.current||a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[g]),f=(0,e.useRef)(null),m=ur((e=>{if(h&&!r)return Fo;if(!e||e===Fo||d.current!==t||null!=s){const e=new Map;for(let n of t){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new uo(u(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e}),[t,s,r,h,u]);return(0,e.useEffect)((()=>{d.current=t}),[t]),(0,e.useEffect)((()=>{h||p()}),[r,h]),(0,e.useEffect)((()=>{s&&s.length>0&&a(null)}),[JSON.stringify(s)]),(0,e.useEffect)((()=>{h||"number"!=typeof l||null!==f.current||(f.current=setTimeout((()=>{p(),f.current=null}),l))}),[l,h,p,...o]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:null!=s}}(V,{dragging:I,dependencies:[E.x,E.y],config:z.droppable}),j=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return ur((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(R,x),G=(0,e.useMemo)((()=>T?br(T):null),[T]),U=function(){const e=!1===(null==k?void 0:k.autoScrollEnabled),t="object"==typeof u?!1===u.enabled:!1===u,n=I&&!e&&!t;return"object"==typeof u?{...u,enabled:n}:{enabled:n}}(),Q=function(e,t){return To(e,t)}(j,z.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=t;const s=(0,e.useRef)(!1),{x:a,y:l}="boolean"==typeof i?{x:i,y:i}:i;sr((()=>{if(!a&&!l||!n)return void(s.current=!1);if(s.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Kr(r(e),o);if(a||(t.x=0),l||(t.y=0),s.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Xr(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,a,l,o,r])}({activeNode:x?R.get(x):null,config:U.layoutShiftCompensation,initialRect:Q,measure:z.draggable.measure});const W=Lo(j,z.draggable.measure,Q),$=Lo(j?j.parentElement:null),X=(0,e.useRef)({activatorEvent:null,active:null,activeNode:j,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=M.getNodeFor(null==(r=X.current.over)?void 0:r.id),J=function(t){let{measure:n}=t;const[r,o]=(0,e.useState)(null),i=No({callback:(0,e.useCallback)((e=>{for(const{target:t}of e)if(rr(t)){o((e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r}));break}}),[n])}),s=(0,e.useCallback)((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rr(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)}),[n,i]),[a,l]=cr(s);return(0,e.useMemo)((()=>({nodeRef:a,rect:r,setRef:l})),[r,a,l])}({measure:z.dragOverlay.measure}),Z=null!=(o=J.nodeRef.current)?o:j,ee=I?null!=(i=J.rect)?i:W:null,te=Boolean(J.nodeRef.current&&J.rect),ne=Kr(re=te?null:W,To(re));var re;const oe=Ho(Z?tr(Z):null),ie=function(t){const n=(0,e.useRef)(t),r=ur((e=>t?e&&e!==Vo&&t&&n.current&&t.parentNode===n.current.parentNode?e:$r(t):Vo),[t]);return(0,e.useEffect)((()=>{n.current=t}),[t]),r}(I?null!=Y?Y:j:null),se=function(t,n){void 0===n&&(n=Qr);const[r]=t,o=Ho(r?tr(r):null),[i,s]=(0,e.useReducer)((function(){return t.length?t.map((e=>no(e)?o:new uo(n(e),e))):qo}),qo),a=No({callback:s});return t.length>0&&i===qo&&s(),sr((()=>{t.length?t.forEach((e=>null==a?void 0:a.observe(e))):(null==a||a.disconnect(),s())}),[t]),i}(ie),ae=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(p,{transform:{x:E.x-ne.x,y:E.y-ne.y,scaleX:1,scaleY:1},activatorEvent:T,active:P,activeNodeRect:W,containerNodeRect:$,draggingNodeRect:ee,over:X.current.over,overlayNodeRect:J.rect,scrollableAncestors:ie,scrollableAncestorRects:se,windowRect:oe}),le=G?fr(G,E):null,ue=function(t){const[n,r]=(0,e.useState)(null),o=(0,e.useRef)(t),i=(0,e.useCallback)((e=>{const t=Yr(e.target);t&&r((e=>e?(e.set(t,eo(t)),new Map(e)):null))}),[]);return(0,e.useEffect)((()=>{const e=o.current;if(t!==e){n(e);const s=t.map((e=>{const t=Yr(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,eo(t)]):null})).filter((e=>null!=e));r(s.length?new Map(s):null),o.current=t}return()=>{n(t),n(e)};function n(e){e.forEach((e=>{const t=Yr(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,t]),(0,e.useMemo)((()=>t.length?n?Array.from(n.values()).reduce(((e,t)=>fr(e,t)),Fr):ao(t):Fr),[t,n])}(ie),ce=zo(ue),de=zo(ue,[W]),he=fr(ae,ce),ge=ee?Gr(ee,ae):null,pe=P&&ge?h({active:P,collisionRect:ge,droppableRects:q,droppableContainers:V,pointerCoordinates:le}):null,fe=Vr(pe,"id"),[me,ve]=(0,e.useState)(null),be=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(te?ae:fr(ae,de),null!=(s=null==me?void 0:me.rect)?s:null,W),ye=(0,e.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==_.current)return;const o=R.get(_.current);if(!o)return;const i=e.nativeEvent,s=new n({active:_.current,activeNode:o,event:i,options:r,context:X,onStart(e){const t=_.current;if(null==t)return;const n=R.get(t);if(!n)return;const{onDragStart:r}=A.current,o={active:{id:t,data:n.data,rect:D}};(0,it.unstable_batchedUpdates)((()=>{null==r||r(o),S(ei.Initializing),b({type:Dr.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:o})}))},onMove(e){b({type:Dr.DragMove,coordinates:e})},onEnd:a(Dr.DragEnd),onCancel:a(Dr.DragCancel)});function a(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=X.current;let s=null;if(t&&o){const{cancelDrop:a}=A.current;s={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===Dr.DragEnd&&"function"==typeof a&&await Promise.resolve(a(s))&&(e=Dr.DragCancel)}_.current=null,(0,it.unstable_batchedUpdates)((()=>{b({type:e}),S(ei.Uninitialized),ve(null),F(null),N(null);const t=e===Dr.DragEnd?"onDragEnd":"onDragCancel";if(s){const e=A.current[t];null==e||e(s),y({type:t,event:s})}}))}}(0,it.unstable_batchedUpdates)((()=>{F(s),N(e.nativeEvent)}))}),[R]),we=(0,e.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=R.get(r);if(null!==_.current||!i||o.dndKit||o.defaultPrevented)return;const s={active:i};!0===e(n,t.options,s)&&(o.dndKit={capturedBy:t.sensor},_.current=r,ye(n,t))}),[R,ye]),Ce=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[t,n])}(d,we);!function(t){(0,e.useEffect)((()=>{if(!Jn)return;const e=t.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((e=>{let{sensor:t}=e;return t})))}(d),sr((()=>{W&&C===ei.Initializing&&S(ei.Initialized)}),[W,C]),(0,e.useEffect)((()=>{const{onDragMove:e}=A.current,{active:t,activatorEvent:n,collisions:r,over:o}=X.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:he.x,y:he.y},over:o};(0,it.unstable_batchedUpdates)((()=>{null==e||e(i),y({type:"onDragMove",event:i})}))}),[he.x,he.y]),(0,e.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=X.current;if(!e||null==_.current||!t||!o)return;const{onDragOver:i}=A.current,s=r.get(fe),a=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:a};(0,it.unstable_batchedUpdates)((()=>{ve(a),null==i||i(l),y({type:"onDragOver",event:l})}))}),[fe]),sr((()=>{X.current={activatorEvent:T,active:P,activeNode:j,collisionRect:ge,collisions:pe,droppableRects:q,draggableNodes:R,draggingNode:Z,draggingNodeRect:ee,droppableContainers:M,over:me,scrollableAncestors:ie,scrollAdjustedTranslate:he},D.current={initial:ee,translated:ge}}),[P,j,pe,ge,R,Z,ee,q,M,me,ie,he]),function(t){let{acceleration:n,activator:r=Oo.Pointer,canScroll:o,draggingRect:i,enabled:s,interval:a=5,order:l=Do.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:g}=t;const p=function(e){let{delta:t,disabled:n}=e;const r=dr(t);return ur((e=>{if(n||!r||!e)return Po;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[to.Backward]:e.x[to.Backward]||-1===o,[to.Forward]:e.x[to.Forward]||1===o},y:{[to.Backward]:e.y[to.Backward]||-1===i,[to.Forward]:e.y[to.Forward]||1===i}}}),[n,t,r])}({delta:h,disabled:!s}),[f,m]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)(((e,n)=>{t.current=setInterval(e,n)}),[]),(0,e.useCallback)((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}(),v=(0,e.useRef)({x:0,y:0}),b=(0,e.useRef)({x:0,y:0}),y=(0,e.useMemo)((()=>{switch(r){case Oo.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Oo.DraggableRect:return i}}),[r,i,u]),w=(0,e.useRef)(null),C=(0,e.useCallback)((()=>{const e=w.current;if(!e)return;const t=v.current.x*b.current.x,n=v.current.y*b.current.y;e.scrollBy(t,n)}),[]),S=(0,e.useMemo)((()=>l===Do.TreeOrder?[...c].reverse():c),[l,c]);(0,e.useEffect)((()=>{if(s&&c.length&&y){for(const e of S){if(!1===(null==o?void 0:o(e)))continue;const t=c.indexOf(e),r=d[t];if(!r)continue;const{direction:i,speed:s}=io(e,r,y,n,g);for(const e of["x","y"])p[e][i[e]]||(s[e]=0,i[e]=0);if(s.x>0||s.y>0)return m(),w.current=e,f(C,a),v.current=s,void(b.current=i)}v.current={x:0,y:0},b.current={x:0,y:0},m()}else m()}),[n,C,o,m,s,a,JSON.stringify(y),JSON.stringify(p),f,c,S,d,JSON.stringify(g)])}({...U,delta:E,draggingRect:ge,pointerCoordinates:le,scrollableAncestors:ie,scrollableAncestorRects:se});const Se=(0,e.useMemo)((()=>({active:P,activeNode:j,activeNodeRect:W,activatorEvent:T,collisions:pe,containerNodeRect:$,dragOverlay:J,draggableNodes:R,droppableContainers:M,droppableRects:q,over:me,measureDroppableContainers:B,scrollableAncestors:ie,scrollableAncestorRects:se,measuringConfiguration:z,measuringScheduled:K,windowRect:oe})),[P,j,W,T,pe,$,J,R,M,q,me,B,ie,se,z,K,oe]),Ie=(0,e.useMemo)((()=>({activatorEvent:T,activators:Ce,active:P,activeNodeRect:W,ariaDescribedById:{draggable:L},dispatch:b,draggableNodes:R,over:me,measureDroppableContainers:B})),[T,Ce,P,W,b,L,R,me,B]);return t().createElement(Rr.Provider,{value:w},t().createElement(Wo.Provider,{value:Ie},t().createElement($o.Provider,{value:Se},t().createElement(Zo.Provider,{value:be},c)),t().createElement(Jo,{disabled:!1===(null==l?void 0:l.restoreFocus)})),t().createElement(Or,{...l,hiddenTextDescribedById:L}))})),ni=(0,e.createContext)(null),ri="button",oi="Droppable";const ii="Droppable",si={timeout:25};function ai(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function li(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function ui(e){return null!==e&&e>=0}const ci=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=ai(t,r,n),s=t[o],a=i[o];return a&&s?{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}:null},di={scaleX:1,scaleY:1},hi=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=null!=(t=i[n])?t:r;if(!a)return null;if(o===n){const e=i[s];return e?{x:0,y:n<s?e.top+e.height-(a.top+a.height):e.top-a.top,...di}:null}const l=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-l,...di}:o<n&&o>=s?{x:0,y:a.height+l,...di}:{x:0,y:0,...di}},gi="Sortable",pi=t().createContext({activeIndex:-1,containerId:gi,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ci,disabled:{draggable:!1,droppable:!1}});function fi(n){let{children:r,id:o,items:i,strategy:s=ci,disabled:a=!1}=n;const{active:l,dragOverlay:u,droppableRects:c,over:d,measureDroppableContainers:h}=(0,e.useContext)($o),g=gr(gi,o),p=Boolean(null!==u.rect),f=(0,e.useMemo)((()=>i.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[i]),m=null!=l,v=l?f.indexOf(l.id):-1,b=d?f.indexOf(d.id):-1,y=(0,e.useRef)(f),w=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,y.current),C=-1!==b&&-1===v||w,S=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);sr((()=>{w&&m&&h(f)}),[w,f,m,h]),(0,e.useEffect)((()=>{y.current=f}),[f]);const I=(0,e.useMemo)((()=>({activeIndex:v,containerId:g,disabled:S,disableTransforms:C,items:f,overIndex:b,useDragOverlay:p,sortedRects:li(f,c),strategy:s})),[v,g,S.draggable,S.droppable,C,f,b,c,p,s]);return t().createElement(pi.Provider,{value:I},r)}const mi=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return ai(n,r,o).indexOf(t)},vi=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!(!u||!r||a!==i&&o===s||!n&&(s===o||t!==l))},bi={duration:200,easing:"ease"},yi="transform",wi=yr.Transition.toString({property:yi,duration:0,easing:"linear"}),Ci={roleDescription:"sortable"};function Si(t){let{animateLayoutChanges:n=vi,attributes:r,disabled:o,data:i,getNewIndex:s=mi,id:a,strategy:l,resizeObserverConfig:u,transition:c=bi}=t;const{items:d,containerId:h,activeIndex:g,disabled:p,disableTransforms:f,sortedRects:m,overIndex:v,useDragOverlay:b,strategy:y}=(0,e.useContext)(pi),w=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,p),C=d.indexOf(a),S=(0,e.useMemo)((()=>({sortable:{containerId:h,index:C,items:d},...i})),[h,i,C,d]),I=(0,e.useMemo)((()=>d.slice(d.indexOf(a))),[d,a]),{rect:x,node:R,isOver:E,setNodeRef:M}=function(t){let{data:n,disabled:r=!1,id:o,resizeObserverConfig:i}=t;const s=gr(ii),{active:a,dispatch:l,over:u,measureDroppableContainers:c}=(0,e.useContext)(Wo),d=(0,e.useRef)({disabled:r}),h=(0,e.useRef)(!1),g=(0,e.useRef)(null),p=(0,e.useRef)(null),{disabled:f,updateMeasurementsFor:m,timeout:v}={...si,...i},b=lr(null!=m?m:o),y=No({callback:(0,e.useCallback)((()=>{h.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null}),v)):h.current=!0}),[v]),disabled:f||!a}),w=(0,e.useCallback)(((e,t)=>{y&&(t&&(y.unobserve(t),h.current=!1),e&&y.observe(e))}),[y]),[C,S]=cr(w),I=lr(n);return(0,e.useEffect)((()=>{y&&C.current&&(y.disconnect(),h.current=!1,y.observe(C.current))}),[C,y]),sr((()=>(l({type:Dr.RegisterDroppable,element:{id:o,key:s,disabled:r,node:C,rect:g,data:I}}),()=>l({type:Dr.UnregisterDroppable,key:s,id:o}))),[o]),(0,e.useEffect)((()=>{r!==d.current.disabled&&(l({type:Dr.SetDroppableDisabled,id:o,key:s,disabled:r}),d.current.disabled=r)}),[o,s,r,l]),{active:a,rect:g,isOver:(null==u?void 0:u.id)===o,node:C,over:u,setNodeRef:S}}({id:a,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...u}}),{active:O,activatorEvent:D,activeNodeRect:P,attributes:_,setNodeRef:k,listeners:F,isDragging:T,over:N,setActivatorNodeRef:A,transform:L}=function(t){let{id:n,data:r,disabled:o=!1,attributes:i}=t;const s=gr(oi),{activators:a,activatorEvent:l,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:g}=(0,e.useContext)(Wo),{role:p=ri,roleDescription:f="draggable",tabIndex:m=0}=null!=i?i:{},v=(null==u?void 0:u.id)===n,b=(0,e.useContext)(v?Zo:ni),[y,w]=cr(),[C,S]=cr(),I=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e}),{})),[t,n])}(a,n),x=lr(r);return sr((()=>(h.set(n,{id:n,key:s,node:y,activatorNode:C,data:x}),()=>{const e=h.get(n);e&&e.key===s&&h.delete(n)})),[h,n]),{active:u,activatorEvent:l,activeNodeRect:c,attributes:(0,e.useMemo)((()=>({role:p,tabIndex:m,"aria-disabled":o,"aria-pressed":!(!v||p!==ri)||void 0,"aria-roledescription":f,"aria-describedby":d.draggable})),[o,p,m,v,f,d.draggable]),isDragging:v,listeners:o?void 0:I,node:y,over:g,setNodeRef:w,setActivatorNodeRef:S,transform:b}}({id:a,data:S,attributes:{...Ci,...r},disabled:w.draggable}),V=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>e=>{n.forEach((t=>t(e)))}),n)}(M,k),z=Boolean(O),H=z&&!f&&ui(g)&&ui(v),q=!b&&T,B=q&&H?L:null,K=H?null!=B?B:(null!=l?l:y)({rects:m,activeNodeRect:P,activeIndex:g,overIndex:v,index:C}):null,j=ui(g)&&ui(v)?s({id:a,items:d,activeIndex:g,overIndex:v}):C,G=null==O?void 0:O.id,U=(0,e.useRef)({activeId:G,items:d,newIndex:j,containerId:h}),Q=d!==U.current.items,W=n({active:O,containerId:h,isDragging:T,isSorting:z,id:a,index:C,items:d,newIndex:U.current.newIndex,previousItems:U.current.items,previousContainerId:U.current.containerId,transition:c,wasDragging:null!=U.current.activeId}),$=function(t){let{disabled:n,index:r,node:o,rect:i}=t;const[s,a]=(0,e.useState)(null),l=(0,e.useRef)(r);return sr((()=>{if(!n&&r!==l.current&&o.current){const e=i.current;if(e){const t=Qr(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}r!==l.current&&(l.current=r)}),[n,r,o,i]),(0,e.useEffect)((()=>{s&&a(null)}),[s]),s}({disabled:!W,index:C,node:R,rect:x});return(0,e.useEffect)((()=>{z&&U.current.newIndex!==j&&(U.current.newIndex=j),h!==U.current.containerId&&(U.current.containerId=h),d!==U.current.items&&(U.current.items=d)}),[z,j,h,d]),(0,e.useEffect)((()=>{if(G===U.current.activeId)return;if(G&&!U.current.activeId)return void(U.current.activeId=G);const e=setTimeout((()=>{U.current.activeId=G}),50);return()=>clearTimeout(e)}),[G]),{active:O,activeIndex:g,attributes:_,data:S,rect:x,index:C,newIndex:j,items:d,isOver:E,isSorting:z,isDragging:T,listeners:F,node:R,overIndex:v,over:N,setNodeRef:V,setActivatorNodeRef:A,setDroppableNodeRef:M,setDraggableNodeRef:k,transform:null!=$?$:K,transition:$||Q&&U.current.newIndex===C?wi:q&&!vr(D)||!c?void 0:z||W?yr.Transition.toString({...c,property:yi}):void 0}}function Ii(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const xi=[po.Down,po.Right,po.Up,po.Left],Ri=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(xi.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const i=o.get(n.id);if(i)switch(e.code){case po.Down:r.top<i.top&&t.push(n);break;case po.Up:r.top>i.top&&t.push(n);break;case po.Left:r.left>i.left&&t.push(n);break;case po.Right:r.left<i.left&&t.push(n)}}));const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Lr(t),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Lr(r),s=o.reduce(((e,t,r)=>e+Tr(n[r],t)),0),a=Number((s/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(Nr)})({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let u=Vr(l,"id");if(u===(null==s?void 0:s.id)&&l.length>1&&(u=l[1].id),null!=u){const e=i.get(n.id),t=i.get(u),s=t?o.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&s&&e&&t){const n=$r(l).some(((e,t)=>a[t]!==e)),o=Ei(e,t),i=function(e,t){return!(!Ii(e)||!Ii(t))&&!!Ei(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),u=n||!o?{x:0,y:0}:{x:i?r.width-s.width:0,y:i?r.height-s.height:0},c={x:s.left,y:s.top};return u.x&&u.y?c:mr(c,u)}}}};function Ei(e,t){return!(!Ii(e)||!Ii(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const Mi=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return n&&t?function(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}(r,n,t):r},Oi=e=>{let{transform:t}=e;return{...t,x:0}},Di={list:"jfphBjBLsS7LWbG6JwBU",item:"YIYIICTpXZlPth4MVGP0",handle:"iMj56UheKRn83AY5dFb_"},Pi=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},(0,e.createElement)("rect",{width:"256",height:"256",fill:"none"}),(0,e.createElement)("circle",{cx:"91",cy:"60",r:"16"}),(0,e.createElement)("circle",{cx:"91",cy:"128",r:"16"}),(0,e.createElement)("circle",{cx:"91",cy:"196",r:"16"}),(0,e.createElement)("circle",{cx:"161",cy:"60",r:"16"}),(0,e.createElement)("circle",{cx:"161",cy:"128",r:"16"}),(0,e.createElement)("circle",{cx:"161",cy:"196",r:"16"}));function _i({label:t,className:n="",...r}){return(0,e.createElement)(i.Button,{className:St("gb-sortable-listitem__handle",Di.handle,n),variant:"tertiary",showTooltip:!1,icon:Pi,label:t,...r})}function ki({children:t,id:n,dragHandle:r=!0,dragHandleLabel:o=(0,s.__)("Reorder Item","generateblocks"),as:i="li",className:a="",disabled:l=!1}){const{active:u,attributes:c,listeners:d,setNodeRef:h,transform:g,transition:p,isDragging:f}=Si({id:n,disabled:l,data:{disabled:l}}),m={transform:yr.Transform.toString(g),transition:p};u&&u.id===n&&(m.zIndex=1);const v=i,b=r?{ref:h,style:m}:{ref:h,style:m,...c,...d};return(0,e.createElement)(v,{className:St("gb-sortable-listitem",Di.item,a,f&&"is-dragging"),"data-component":"SortableListItem",...b},r&&(0,e.createElement)(_i,{label:o,...c,...d}),t)}const Fi=(0,o.forwardRef)((function({itemComponent:t,onDragStart:n,onDragEnd:r,items:i,setItems:a,dragHandle:l=!0,dragHandleLabel:u=(0,s.__)("Reorder Item","generateblocks-pro"),className:c=""},d){const[h,g]=(0,o.useState)(!1),[p,f]=(0,o.useState)(null),m=kr(_r(xo),_r(yo,{coordinateGetter:Ri})),v=t,b=(0,o.useMemo)((()=>i.map((e=>(e.id||(e.id=At()),e)))),[i]);return(0,e.createElement)(ti,{modifiers:[Oi,Mi],sensors:m,collisionDetection:Hr,onDragStart:e=>{const{active:t}=e;g(!0),f(t),n&&n(e)},onDragEnd:e=>{g(!1),function(e){var t;const{active:n,over:r}=e,o=null!==(t=r.data.current?.disabled)&&void 0!==t&&t;if(n.id!==r.id&&!o){const e=i.findIndex((e=>e.id===n.id)),t=i.findIndex((e=>e.id===r.id));a(ai(i,e,t))}}(e),f(null),r&&r(e,p)}},(0,e.createElement)("ul",{className:St("gb-sortable-list",Di.list,c,h&&"is-dragging"),ref:d},(0,e.createElement)(fi,{items:b,strategy:hi},i.map(((t,n)=>{var r;return(0,e.createElement)(ki,{key:`${t.id}${n}`,id:t.id,dragHandle:l,dragHandleLabel:u,disabled:null!==(r=t.disabled)&&void 0!==r&&r},(0,e.createElement)(v,{item:t,index:n}))})))))})),Ti={flex:"hHKiBx5I2uE9rOSfPM12",horizontal:"B5HY2hFmG0hxvgaQnQQ7",flow:"nRa5VJ04QyacFgUYVA6k",vertical:"RzuQ6Yfh1wwJZBqe0K3y"};function Ni({children:t,gap:n,layout:r="flow",direction:o="vertical",as:i="div",wrap:s=!0,className:a="",style:l={},...u}){const c=i,d={...l,"--gap":n};return"flex"===r&&(d.flexWrap=s?"wrap":"nowrap"),(0,e.createElement)(c,{...u,className:St("gb-stack",Ti[o],Ti[r],a),style:d},t)}function Ai(e,t){return"function"==typeof e?e(t):e}function Li(e,t){return n=>{t.setState((t=>({...t,[e]:Ai(n,t[e])})))}}function Vi(e){return e instanceof Function}function zi(e,t,n){let r,o=[];return i=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(i);if(a.length===o.length&&!a.some(((e,t)=>o[t]!==e)))return r;let l;if(o=a,n.key&&n.debug&&(l=Date.now()),r=t(...a),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-s))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function Hi(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const qi="debugHeaders";function Bi(e,t,n){var r;let o={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(o),e},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(o,e)})),o}const Ki={createTable:e=>{e.getHeaderGroups=zi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>{var i,s;const a=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],l=null!=(s=null==o?void 0:o.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?s:[];return ji(t,[...a,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),...l],e)}),Hi(e.options,qi)),e.getCenterHeaderGroups=zi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>ji(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),e,"center")),Hi(e.options,qi)),e.getLeftHeaderGroups=zi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var o;const i=null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[];return ji(t,i,e,"left")}),Hi(e.options,qi)),e.getRightHeaderGroups=zi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var o;const i=null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[];return ji(t,i,e,"right")}),Hi(e.options,qi)),e.getFooterGroups=zi((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),Hi(e.options,qi)),e.getLeftFooterGroups=zi((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),Hi(e.options,qi)),e.getCenterFooterGroups=zi((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),Hi(e.options,qi)),e.getRightFooterGroups=zi((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),Hi(e.options,qi)),e.getFlatHeaders=zi((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Hi(e.options,qi)),e.getLeftFlatHeaders=zi((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Hi(e.options,qi)),e.getCenterFlatHeaders=zi((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Hi(e.options,qi)),e.getRightFlatHeaders=zi((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),Hi(e.options,qi)),e.getCenterLeafHeaders=zi((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Hi(e.options,qi)),e.getLeftLeafHeaders=zi((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Hi(e.options,qi)),e.getRightLeafHeaders=zi((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),Hi(e.options,qi)),e.getLeafHeaders=zi((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,o,i,s,a,l;return[...null!=(r=null==(o=e[0])?void 0:o.headers)?r:[],...null!=(i=null==(s=t[0])?void 0:s.headers)?i:[],...null!=(a=null==(l=n[0])?void 0:l.headers)?a:[]].map((e=>e.getLeafHeaders())).flat()}),Hi(e.options,qi))}};function ji(e,t,n,r){var o,i;let s=0;const a=function(e,t){void 0===t&&(t=1),s=Math.max(s,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&a(e.columns,t+1)}),0)};a(e);let l=[];const u=(e,t)=>{const o={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},i=[];e.forEach((e=>{const s=[...i].reverse()[0];let a,l=!1;if(e.column.depth===o.depth&&e.column.parent?a=e.column.parent:(a=e.column,l=!0),s&&(null==s?void 0:s.column)===a)s.subHeaders.push(e);else{const o=Bi(n,a,{id:[r,t,a.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${i.filter((e=>e.column===a)).length}`:void 0,depth:t,index:i.length});o.subHeaders.push(e),i.push(o)}o.headers.push(e),e.headerGroup=o})),l.push(o),t>0&&u(i,t-1)},c=t.map(((e,t)=>Bi(n,e,{depth:s,index:t})));u(c,s-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:o}=e;t+=n,r.push(o)}))):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(o=null==(i=l[0])?void 0:i.headers)?o:[]),l}const Gi=(e,t,n,r,o,i,s)=>{let a={id:t,index:r,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(a._valuesCache.hasOwnProperty(t))return a._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(a._valuesCache[t]=n.accessorFn(a.original,r),a._valuesCache[t]):void 0},getUniqueValues:t=>{if(a._uniqueValuesCache.hasOwnProperty(t))return a._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(a._uniqueValuesCache[t]=n.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[t]):(a._uniqueValuesCache[t]=[a.getValue(t)],a._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=a.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=i?i:[],getLeafRows:()=>function(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const o=t(e);null!=o&&o.length&&r(o)}))};return r(e),n}(a.subRows,(e=>e.subRows)),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let e=[],t=a;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:zi((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=o.getValue())?t:e.options.renderFallbackValue},getContext:zi((()=>[e,n,t,o]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),Hi(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(o,n,t,e)}),{}),o}(e,a,t,t.id)))),Hi(e.options,"debugRows")),_getAllCellsByColumnId:zi((()=>[a.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),Hi(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];null==n||null==n.createRow||n.createRow(a,e)}return a},Ui={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Qi=(e,t,n)=>{var r;const o=n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())||null==(r=r.toLowerCase())?void 0:r.includes(o))};Qi.autoRemove=e=>rs(e);const Wi=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};Wi.autoRemove=e=>rs(e);const $i=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};$i.autoRemove=e=>rs(e);const Xi=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Xi.autoRemove=e=>rs(e)||!(null!=e&&e.length);const Yi=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Yi.autoRemove=e=>rs(e)||!(null!=e&&e.length);const Ji=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));Ji.autoRemove=e=>rs(e)||!(null!=e&&e.length);const Zi=(e,t,n)=>e.getValue(t)===n;Zi.autoRemove=e=>rs(e);const es=(e,t,n)=>e.getValue(t)==n;es.autoRemove=e=>rs(e);const ts=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};ts.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,o="number"!=typeof n?parseFloat(n):n,i=null===t||Number.isNaN(r)?-1/0:r,s=null===n||Number.isNaN(o)?1/0:o;if(i>s){const e=i;i=s,s=e}return[i,s]},ts.autoRemove=e=>rs(e)||rs(e[0])&&rs(e[1]);const ns={includesString:Qi,includesStringSensitive:Wi,equalsString:$i,arrIncludes:Xi,arrIncludesAll:Yi,arrIncludesSome:Ji,equals:Zi,weakEquals:es,inNumberRange:ts};function rs(e){return null==e||""===e}const os={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Li("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?ns.includesString:"number"==typeof r?ns.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?ns.equals:Array.isArray(r)?ns.arrIncludes:ns.weakEquals},e.getFilterFn=()=>{var n,r;return Vi(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:ns[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(o=t.options.enableFilters)||o)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),o=null==t?void 0:t.find((t=>t.id===e.id)),i=Ai(n,o?o.value:void 0);var s;if(is(r,i,e))return null!=(s=null==t?void 0:t.filter((t=>t.id!==e.id)))?s:[];const a={id:e.id,value:i};var l;return o?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?a:t)))?l:[]:null!=t&&t.length?[...t,a]:[a]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=Ai(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));return!t||!is(t.getFilterFn(),e.value,t)}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function is(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const ss={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,o;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)))})),[r,o]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let o=t.getValue(e);null!=o&&(o=+o)>=o&&(++n,r+=o)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!function(e){return Array.isArray(e)&&e.every((e=>"number"==typeof e))}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),o=n.sort(((e,t)=>e-t));return n.length%2!=0?o[r]:(o[r-1]+o[r])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},as={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Li("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?ss.sum:"[object Date]"===Object.prototype.toString.call(r)?ss.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Vi(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:ss[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}},ls={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Li("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=zi((e=>[fs(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),Hi(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=fs(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=fs(t,n);return(null==(r=o[o.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=zi((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let o=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&o.push(n.splice(r,1)[0])}o=[...o,...n]}else o=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));if("remove"===n)return r;const o=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...o,...r]}(o,t,n)}),Hi(e.options,"debugTable"))}},us={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:Li("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,o,i,s,a,l;return"right"===n?{left:(null!=(i=null==e?void 0:e.left)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(s=null==e?void 0:e.right)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(a=null==e?void 0:e.left)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(o=null==e?void 0:e.right)?o:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,o;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(o=t.options.enableColumnPinning)?o:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:o}=t.getState().columnPinning,i=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==o?void 0:o.includes(e)));return i?"left":!!s&&"right"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[o])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=zi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),Hi(t.options,"debugRows")),e.getLeftVisibleCells=zi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),Hi(t.options,"debugRows")),e.getRightVisibleCells=zi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),Hi(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var o,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.left)?void 0:o.length)||(null==(i=r.right)?void 0:i.length))},e.getLeftLeafColumns=zi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),Hi(e.options,"debugColumns")),e.getRightLeafColumns=zi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),Hi(e.options,"debugColumns")),e.getCenterLeafColumns=zi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),Hi(e.options,"debugColumns"))}},cs={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ds={getDefaultColumnDef:()=>cs,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Li("columnSizing",e),onColumnSizingInfoChange:Li("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:cs.minSize,null!=(r=null!=i?i:e.columnDef.size)?r:cs.size),null!=(o=e.columnDef.maxSize)?o:cs.maxSize)},e.getStart=zi((e=>[e,fs(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),Hi(t.options,"debugColumns")),e.getAfter=zi((e=>[e,fs(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),Hi(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=null==r?void 0:r.getCanResize();return i=>{if(!r||!o)return;if(null==i.persist||i.persist(),gs(i)&&i.touches&&i.touches.length>1)return;const s=e.getSize(),a=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=gs(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var r,o;const i="rtl"===t.options.columnResizeDirection?-1:1,s=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*i,a=Math.max(s/(null!=(o=null==e?void 0:e.startSize)?o:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*a,0))/100})),{...e,deltaOffset:s,deltaPercentage:a}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...u}))))},d=e=>c("move",e),h=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},g=n||"undefined"!=typeof document?document:null,p={moveHandler:e=>d(e.clientX),upHandler:e=>{null==g||g.removeEventListener("mousemove",p.moveHandler),null==g||g.removeEventListener("mouseup",p.upHandler),h(e.clientX)}},f={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==g||g.removeEventListener("touchmove",f.moveHandler),null==g||g.removeEventListener("touchend",f.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"==typeof hs)return hs;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return hs=e,hs}()&&{passive:!1};gs(i)?(null==g||g.addEventListener("touchmove",f.moveHandler,m),null==g||g.addEventListener("touchend",f.upHandler,m)):(null==g||g.addEventListener("mousemove",p.moveHandler,m),null==g||g.addEventListener("mouseup",p.upHandler,m)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let hs=null;function gs(e){return"touchstart"===e.type}const ps={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Li("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const o=e.columns;return null==(n=o.length?o.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=zi((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),Hi(t.options,"debugRows")),e.getVisibleCells=zi((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),Hi(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>zi((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),Hi(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function fs(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const ms={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Li("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>Ai(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=Ai(t,n.pageIndex);const o=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,Ai(t,e.pageSize)),r=e.pageSize*e.pageIndex,o=Math.floor(r/n);return{...e,pageIndex:o,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let o=Ai(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof o&&(o=Math.max(-1,o)),{...n,pageCount:o}})),e.getPageOptions=zi((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),Hi(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},vs={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:Li("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],s=o?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],a=new Set([...s,e.id,...i]);t.setRowPinning((e=>{var t,r,o,i,s,l;return"bottom"===n?{top:(null!=(o=null==e?void 0:e.top)?o:[]).filter((e=>!(null!=a&&a.has(e)))),bottom:[...(null!=(i=null==e?void 0:e.bottom)?i:[]).filter((e=>!(null!=a&&a.has(e)))),...Array.from(a)]}:"top"===n?{top:[...(null!=(s=null==e?void 0:e.top)?s:[]).filter((e=>!(null!=a&&a.has(e)))),...Array.from(a)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter((e=>!(null!=a&&a.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=a&&a.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=a&&a.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:o)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some((e=>null==r?void 0:r.includes(e))),s=n.some((e=>null==o?void 0:o.includes(e)));return i?"top":!!s&&"bottom"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=null==(n="top"===o?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==i?void 0:i.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var o,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.top)?void 0:o.length)||(null==(i=r.bottom)?void 0:i.length))},e._getPinnedRows=(t,n,r)=>{var o;return(null==(o=e.options.keepPinnedRows)||o?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=zi((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),Hi(e.options,"debugRows")),e.getBottomRows=zi((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),Hi(e.options,"debugRows")),e.getCenterRows=zi((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),Hi(e.options,"debugRows"))}},bs={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Li("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):o.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach((t=>{ys(o,t.id,r,!0,e)})),o})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=zi((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?ws(e,n):{rows:[],flatRows:[],rowsById:{}}),Hi(e.options,"debugTable")),e.getFilteredSelectedRowModel=zi((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?ws(e,n):{rows:[],flatRows:[],rowsById:{}}),Hi(e.options,"debugTable")),e.getGroupedSelectedRowModel=zi((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?ws(e,n):{rows:[],flatRows:[],rowsById:{}}),Hi(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection((i=>{var s;if(n=void 0!==n?n:!o,e.getCanSelect()&&o===n)return i;const a={...i};return ys(a,e.id,n,null==(s=null==r?void 0:r.selectChildren)||s,t),a}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Cs(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===Ss(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===Ss(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},ys=(e,t,n,r,o)=>{var i;const s=o.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(i=s.subRows)&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach((t=>ys(e,t.id,n,r,o)))};function ws(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(e,t){return e.map((e=>{var t;const s=Cs(e,n);if(s&&(r.push(e),o[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:i(e.subRows)}),s)return e})).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function Cs(e,t){var n;return null!=(n=t[e.id])&&n}function Ss(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let o=!0,i=!1;return e.subRows.forEach((e=>{if((!i||o)&&(e.getCanSelect()&&(Cs(e,t)?i=!0:o=!1),e.subRows&&e.subRows.length)){const n=Ss(e,t);"all"===n?i=!0:"some"===n?(i=!0,o=!1):o=!1}})),o?"all":!!i&&"some"}const Is=/([0-9]+)/gm;function xs(e,t){return e===t?0:e>t?1:-1}function Rs(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function Es(e,t){const n=e.split(Is).filter(Boolean),r=t.split(Is).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),o=parseInt(e,10),i=parseInt(t,10),s=[o,i].sort();if(isNaN(s[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(s[1]))return isNaN(o)?-1:1;if(o>i)return 1;if(i>o)return-1}}return n.length-r.length}const Ms={alphanumeric:(e,t,n)=>Es(Rs(e.getValue(n)).toLowerCase(),Rs(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>Es(Rs(e.getValue(n)),Rs(t.getValue(n))),text:(e,t,n)=>xs(Rs(e.getValue(n)).toLowerCase(),Rs(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>xs(Rs(e.getValue(n)),Rs(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},basic:(e,t,n)=>xs(e.getValue(n),t.getValue(n))},Os={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Li("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return Ms.datetime;if("string"==typeof n&&(r=!0,n.split(Is).length>1))return Ms.alphanumeric}return r?Ms.text:Ms.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Vi(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:Ms[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=null!=n;t.setSorting((s=>{const a=null==s?void 0:s.find((t=>t.id===e.id)),l=null==s?void 0:s.findIndex((t=>t.id===e.id));let u,c=[],d=i?n:"desc"===o;var h;return u=null!=s&&s.length&&e.getCanMultiSort()&&r?a?"toggle":"add":null!=s&&s.length&&l!==s.length-1?"replace":a?"toggle":"replace","toggle"===u&&(i||o||(u="remove")),"add"===u?(c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))):c="toggle"===u?s.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?s.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}],c}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?!!(s===i||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(o=t.options.enableMultiRemove)&&!o)&&("desc"===s?"asc":"desc"):i},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Ds=[Ki,ps,ls,us,Ui,os,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Li("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(o=t.options.enableFilters)||o)&&(null==(i=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||i)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ns.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Vi(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:ns[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Os,as,{getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Li("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var o;const i=!0===r||!(null==r||!r[e.id]);let s={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{s[e]=!0})):s=r,n=null!=(o=n)?o:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:t,...n}=s;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,o;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(o=e.subRows)||!o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},ms,vs,bs,ds];function Ps(e){var t,n;const r=[...Ds,...null!=(t=e._features)?t:[]];let o={_features:r};const i=o._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(o))),{});let s={...null!=(n=e.initialState)?n:{}};o._features.forEach((e=>{var t;s=null!=(t=null==e.getInitialState?void 0:e.getInitialState(s))?t:s}));const a=[];let l=!1;const u={_features:r,options:{...i,...e},initialState:s,_queue:e=>{a.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;a.length;)a.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{o.setState(o.initialState)},setOptions:e=>{const t=Ai(e,o.options);o.options=(e=>o.options.mergeOptions?o.options.mergeOptions(i,e):{...i,...e})(t)},getState:()=>o.options.state,setState:e=>{null==o.options.onStateChange||o.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==o.options.getRowId?void 0:o.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?o.getPrePaginationRowModel():o.getRowModel()).rowsById[e];if(!n&&(n=o.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:zi((()=>[o.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...o._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),Hi(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:zi((()=>[o._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const i=function(e,t,n,r){var o,i;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let l,u=null!=(o=null!=(i=s.id)?i:a?a.replace(".","_"):void 0)?o:"string"==typeof s.header?s.header:void 0;if(s.accessorFn?l=s.accessorFn:a&&(l=a.includes(".")?e=>{let t=e;for(const e of a.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[s.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:l,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:zi((()=>[!0]),(()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),Hi(e.options,"debugColumns")),getLeafColumns:zi((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=c.columns)&&t.length){let t=c.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[c]}),Hi(e.options,"debugColumns"))};for(const t of e._features)null==t.createColumn||t.createColumn(c,e);return c}(o,e,r,n),s=e;return i.columns=s.columns?t(s.columns,i,r+1):[],i}))};return t(e)}),Hi(e,"debugColumns")),getAllFlatColumns:zi((()=>[o.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),Hi(e,"debugColumns")),_getAllFlatColumnsById:zi((()=>[o.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),Hi(e,"debugColumns")),getAllLeafColumns:zi((()=>[o.getAllColumns(),o._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),Hi(e,"debugColumns")),getColumn:e=>o._getAllFlatColumnsById()[e]};Object.assign(o,u);for(let e=0;e<o._features.length;e++){const t=o._features[e];null==t||null==t.createTable||t.createTable(o)}return o}function _s(t,n){return t?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=t)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?e.createElement(t,n):t:null;var r}const ks={table:"QR4x30TJpU2839ymzNGi",striped:"F4u8YM2fkLZusap4B_w7"};function Fs({columns:t,onDragStart:n,onDragEnd:r,onRowSelectionChange:i,rowSelection:s={},striped:a=!0,showHeader:l=!0,data:u=[],className:c="",draggableRows:d=!1,getRowId:h=e=>e.id,enableRowSelection:g=!1,"aria-labelledby":p,"aria-label":f}){const m={},v=(0,o.useRef)(null);g&&(m.rowSelection=s);const b=function(t){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=e.useState((()=>({current:Ps(n)}))),[o,i]=e.useState((()=>r.current.initialState));return r.current.setOptions((e=>({...e,...t,state:{...o,...t.state},onStateChange:e=>{i(e),null==t.onStateChange||t.onStateChange(e)}}))),r.current}({data:u,columns:t,getCoreRowModel:e=>zi((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,o,i){void 0===o&&(o=0);const s=[];for(let l=0;l<t.length;l++){const u=Gi(e,e._getRowId(t[l],l,i),t[l],l,o,void 0,null==i?void 0:i.id);var a;n.flatRows.push(u),n.rowsById[u.id]=u,s.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[l],l),null!=(a=u.originalSubRows)&&a.length&&(u.subRows=r(u.originalSubRows,o+1,u)))}return s};return n.rows=r(t),n}),Hi(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),getRowId:h,enableRowSelection:g,onRowSelectionChange:i,state:m}),y=b.getRowModel().rows,w=d&&!b.getIsSomeRowsSelected()&&!b.getIsAllRowsSelected(),C=kr(_r(xo),_r(yo,{coordinateGetter:Ri}));if(!f&&!p)throw new Error("Table component requires an accessible label. Please add an aria-label or valid aria-labelledby prop.");function S({row:t}){var n,r;const{active:o,setNodeRef:i,transform:s,transition:a,isDragging:l}=Si({id:t.id,disabled:null!==(n=t?.disabled)&&void 0!==n&&n,data:{disabled:null!==(r=t?.disabled)&&void 0!==r&&r}}),u={ref:i,style:{backgroundColor:l?"#fff":void 0,transform:yr.Transform.toString(s),transition:a,width:t?.getSize?`${t.getSize().width}px`:void 0,zIndex:o&&o.id===t.id?1:void 0},className:St("gb-table__row","gb-table__row--draggable",l&&"is-dragging"),"data-row-id":t.id};return(0,e.createElement)("tr",{...u,key:t.id,"data-row-id":t.id},t.getVisibleCells().map((t=>(0,e.createElement)("td",{key:t.id,className:"gb-table__cell"},_s(t.column.columnDef.cell,t.getContext())))))}return(0,e.createElement)(ti,{modifiers:[Oi,Mi],sensors:C,collisionDetection:Hr,onDragStart:n,onDragEnd:r},(0,e.createElement)("table",{className:St("gb-table",ks.table,a&&ks.striped,c),cellPadding:0,"aria-label":f,"aria-labelledby":p,ref:v},l&&(0,e.createElement)("thead",null,b.getHeaderGroups().map((t=>(0,e.createElement)("tr",{key:t.id},t.headers.map((t=>(0,e.createElement)("th",{key:t.id,className:"gb-table__header",colSpan:t.colSpan,"data-column-id":t.column.id},t.isPlaceholder?null:_s(t.column.columnDef.header,t.getContext())))))))),(0,e.createElement)("tbody",null,w?(0,e.createElement)(fi,{items:y,strategy:hi},y.map((t=>(0,e.createElement)(S,{row:t,key:t.id,canDrag:w})))):(0,e.createElement)(e.Fragment,null,y.map((t=>(0,e.createElement)("tr",{key:t.id,className:"gb-table__row","data-row-id":t.id},t.getVisibleCells().map((t=>(0,e.createElement)("td",{key:t.id,className:"gb-table__cell","data-column-id":t.column.id},_s(t.column.columnDef.cell,t.getContext())))))))))))}Fs.RowHandle=function({row:t,disabled:n=!1}){var r,o;const{attributes:i,listeners:a}=Si({id:t.id,disabled:n||null!==(r=t?.disabled)&&void 0!==r&&r,data:{disabled:n||null!==(o=t?.disabled)&&void 0!==o&&o}});return(0,e.createElement)(_i,{className:"gb-table__handle",variant:"tertiary",showTooltip:!1,label:(0,s.__)("Reorder style","generateblocks-pro"),...i,...a})},Fs.HeaderRowCheckbox=function({table:t,onChange:n,...r}){return(0,e.createElement)(Lt,{type:"checkbox",className:"components-checkbox-control__input gb-table__checkbox gb-table__checkbox--all",checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:e=>{t.toggleAllRowsSelected(e.target.checked),n&&n(e)},...r})},Fs.RowCheckbox=function({row:t,"aria-label":n=(0,s.__)("Select row","generateblocks-pro"),...r}){return(0,e.createElement)(Lt,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),onChange:t.getToggleSelectedHandler(),"aria-label":n,...r})};const Ts=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),Ns={panel:"__WTMbi53bePjV_M0Omo",panelTitle:"SI3KaQlaO9Ovm4luxrPQ",panelContent:"nelZHaznmNz8HuVyLteJ"};function As(t){const{title:n,children:r,dropdownOptions:a=[],shouldRender:l=!0,className:u=""}=t,c=(0,o.useRef)(null),[d,h]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{c.current&&""===c.current.innerHTML.trim()&&h(!1)}),[r]),l&&d?(0,e.createElement)("div",{className:Ct(Ns.panel,u)},(0,e.createElement)(i.PanelBody,null,n&&(0,e.createElement)("div",{className:Ns.panelTitle},(0,e.createElement)("h2",null,n),a.length>0&&(0,e.createElement)(i.DropdownMenu,{icon:Ts,label:(0,s.__)("More options","generateblocks"),controls:a})),(0,e.createElement)("div",{className:Ns.panelContent,ref:c},(0,Ht.applyFilters)("generateblocks.blockSettings.openPanel",r,t)))):null}(0,s.__)("More design options","generateblocks");const Ls={library:"pO6LJQkI56NlcK4uKswQ",icons:"ILtBSFdjVlg1rRg3bHdo",categories:"Yar2NmN4U7_IkTzKCf0l",footer:"oHsdvxxKpHACcMHU4p6s",customIcon:"HikiNJaBNtUmWeFoa8XB",insert:"OeqOPaJwL63JqN3iH5G7"};function Vs({icons:t,onInsert:n,category:r="",iconType:s="",icon:a,clearLabel:l="Clear",insertLabel:u="Insert",customLabel:c="Custom SVG"}){var d;const h=(()=>{if(a)for(const[e,n]of Object.entries(t))for(const[,t]of Object.entries(n.svgs))if(t.icon&&(0,o.renderToString)(t.icon)===a)return e;return r||Object.keys(t)[0]})(),[g,p]=(0,o.useState)(h),f=Object.keys(t),m=null!==(d=(0,o.useMemo)((()=>g&&Object.values(t[g].svgs)),[g]))&&void 0!==d?d:[],[v,b]=(0,o.useState)(!1),[y,w]=(0,o.useState)(a);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:St(Ls.library,{[`gb-icon-library--${s}`]:s})},(0,e.createElement)("div",{className:Ls.categories},f.map(((n,r)=>(0,e.createElement)(i.Button,{key:r,className:Ls.categoryButton,onClick:()=>{p(n),b(!1)},isPressed:n===g},t[n].group))),(0,e.createElement)(i.Button,{className:Ls.categoryButton,onClick:()=>{b(!0),p("")},isPressed:v},c)),(0,e.createElement)("div",{className:Ls.icons},(0,e.createElement)(e.Fragment,null,!!m&&m.map((({icon:t},n)=>{let r=t;return"string"!=typeof r&&(r=(0,o.renderToString)(r)),(0,e.createElement)(i.Button,{key:n,className:"gb-icon-library__icon",onClick:()=>w(r),isPressed:r===y},(0,e.createElement)("span",{dangerouslySetInnerHTML:{__html:r}}))})),!!v&&(0,e.createElement)(i.TextareaControl,{type:"textarea",className:Ls.customIcon,value:y,onChange:e=>w(e),rows:"10"})))),(0,e.createElement)("div",{className:Ls.footer},!!y&&(0,e.createElement)(i.Button,{isDestructive:!0,onClick:()=>n("")},l),(0,e.createElement)("div",{className:Ls.insert},!!y&&(0,e.createElement)("span",{dangerouslySetInnerHTML:{__html:y}}),(0,e.createElement)(i.Button,{variant:"primary",onClick:()=>n(y),disabled:!y},u))))}const zs={control:"abx9EqNx_hGpbIxO4tA9",preview:"Sod2yoIO1Ws5iAOUHr39",modal:"utQ6dqgsPTYKnSsWlhMM"};function Hs({value:t,title:n,setIsOpen:r,onChange:o,iconType:s="icon",icons:a,clearLabel:l,insertLabel:u,customLabel:c}){return(0,e.createElement)(i.Modal,{title:n,onRequestClose:()=>r(!1),className:St(zs.modal,{"gb-icon-library-modal":!0}),size:"large"},(0,e.createElement)(Vs,{icons:a,onInsert:e=>{o(e),r(!1)},iconType:s,icon:t,clearLabel:l,insertLabel:u,customLabel:c}))}function qs({value:t,onChange:n,attributes:r,iconType:s,label:a,insertLabel:l="Insert",clearLabel:u="Clear",customLabel:c="Custom SVG",openLabel:d="Open Library",modalTitle:h="Icon Library",icons:g={}}){const[p,f]=(0,o.useState)(!1),m=At();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.BaseControl,{className:zs.control,label:a,id:m},(0,e.createElement)(i.Button,{className:zs.preview,onClick:()=>f(!0)},!!t&&(0,e.createElement)("span",{dangerouslySetInnerHTML:{__html:t}}),d)),!!p&&(0,e.createElement)(Hs,{value:t,onChange:n,setIsOpen:f,attributes:r,iconType:s,icons:g,title:h,clearLabel:u,insertLabel:l,customLabel:c}))}const Bs=window.wp.data,Ks=window.wp.coreData;function js(e){return e.replaceAll(" ","_").replaceAll(/[^a-zA-Z0-9.\-_]/g,"")}function Gs({type:t,post:n,term:r,user:a,source:l,onSelect:u,onEnter:c,onClear:d,onAdd:h,help:g,fallback:p=[],label:f=(0,s.__)("Meta key","generateblocks"),value:m=""}){const v=(0,Bs.useSelect)((e=>{const{getCurrentUser:t}=e(Ks.store);return t?t():null})),b=(0,o.useMemo)((()=>{var e,o;switch(t){case"post":if(!n?.meta)return[];const i=(0,Ht.applyFilters)("generateblocks.editor.SelectMetaKeys.keys",Object.keys(n.meta).map((e=>({label:e,value:e}))),n,t);return 0===i.length?[]:[{id:"post_meta",label:(0,s.__)("Post Meta","generateblocks"),items:i}];case"author":const l=a?.meta;if(!l)return[];const u=(0,Ht.applyFilters)("generateblocks.editor.SelectMetaKeys.keys",Object.keys(l).map((e=>({label:e,value:e}))),l,t);return 0===u.length?[]:[{id:"author_meta",label:(0,s.__)("Author Meta","generateblocks"),items:u}];case"user":const c=null!==(e=a?.meta)&&void 0!==e?e:{};if(!c)return[];const d=(0,Ht.applyFilters)("generateblocks.editor.SelectMetaKeys.keys",Object.keys(c).map((e=>({label:e,value:e}))),c,t);return 0===d.length?[]:[{id:"user_meta",label:(0,s.__)("User Meta","generateblocks"),items:d}];case"term":const h=null!==(o=r?.meta)&&void 0!==o?o:{};if(!h)return[];const g=(0,Ht.applyFilters)("generateblocks.editor.SelectMetaKeys.keys",Object.keys(h).map((e=>({label:e,value:e}))),h,t);return 0===g.length?[]:[{id:"term_meta",label:(0,s.__)("Term Meta","generateblocks"),items:g}];default:return p}}),[n,t,r,v,a,l]),y=(0,Ht.applyFilters)("generateblocks.editor.SelectMetaKeys.options",b,{user:a||v,post:n,term:r,type:t,source:l});return(0,e.createElement)(Mt,{className:"gb-meta-key-select",label:f,selected:m,onSelect:u,source:y,toStringKey:"value",showClear:!0,onEnter:c,onClear:d,itemFilter:Mt.groupItemFilter,help:g,filterOnSelect:!1,filterInputValue:js,noResultsText:null,afterInputWrapper:({inputValue:t,items:n})=>(0,e.createElement)(i.Button,{variant:"primary",size:"compact",className:"gb-gc-add__button",disabled:!t||n.length>0||t===m,onClick:()=>h&&h({inputValue:t,items:n})},(0,s.__)("Add","generateblocks"))})}const Us=window.wp.apiFetch;var Qs=n.n(Us),Ws="undefined"==typeof window||"Deno"in globalThis;function $s(){}function Xs(e){return"number"==typeof e&&e>=0&&e!==1/0}function Ys(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Js(e,t){return"function"==typeof e?e(t):e}function Zs(e,t){return"function"==typeof e?e(t):e}function ea(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==na(s,t.options))return!1}else if(!oa(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function ta(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ra(t.options.mutationKey)!==ra(i))return!1}else if(!oa(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function na(e,t){return(t?.queryKeyHashFn||ra)(e)}function ra(e){return JSON.stringify(e,((e,t)=>la(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function oa(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!oa(e[n],t[n])))}function ia(e,t){if(e===t)return e;const n=aa(e)&&aa(t);if(n||la(e)&&la(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),s=i.length,a=n?[]:{};let l=0;for(let o=0;o<s;o++){const s=n?o:i[o];(!n&&r.includes(s)||n)&&void 0===e[s]&&void 0===t[s]?(a[s]=void 0,l++):(a[s]=ia(e[s],t[s]),a[s]===e[s]&&void 0!==e[s]&&l++)}return o===s&&l===o?e:a}return t}function sa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function aa(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function la(e){if(!ua(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ua(n)&&!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function ua(e){return"[object Object]"===Object.prototype.toString.call(e)}function ca(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ia(e,t):t}function da(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ha(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ga=Symbol();function pa(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ga?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var fa=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},o=e=>setTimeout(e,0);const i=r=>{t?e.push(r):o((()=>{n(r)}))};return{batch:i=>{let s;t++;try{s=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{o=e}}}(),ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},va=new class extends ma{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ws&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},ba=new class extends ma{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ws&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function ya(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function wa(e){return Math.min(1e3*2**e,3e4)}function Ca(e){return"online"!==(e??"online")||ba.isOnline()}var Sa=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ia(e){return e instanceof Sa}function xa(e){let t,n=!1,r=0,o=!1;const i=ya(),s=()=>va.isFocused()&&("always"===e.networkMode||ba.isOnline())&&e.canRun(),a=()=>Ca(e.networkMode)&&e.canRun(),l=n=>{o||(o=!0,e.onSuccess?.(n),t?.(),i.resolve(n))},u=n=>{o||(o=!0,e.onError?.(n),t?.(),i.reject(n))},c=()=>new Promise((n=>{t=e=>{(o||s())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,o||e.onContinue?.()})),d=()=>{if(o)return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(l).catch((t=>{if(o)return;const i=e.retry??(Ws?0:3),a=e.retryDelay??wa,l="function"==typeof a?a(r,t):a,h=!0===i||"number"==typeof i&&r<i||"function"==typeof i&&i(r,t);var g;!n&&h?(r++,e.onFail?.(r,t),(g=l,new Promise((e=>{setTimeout(e,g)}))).then((()=>s()?void 0:c())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:i,cancel:t=>{o||(u(new Sa(t)),e.abort?.())},continue:()=>(t?.(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():c().then(d),i)}}var Ra=class{#o;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xs(this.gcTime)&&(this.#o=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ws?1/0:3e5))}clearGcTimeout(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}},Ea=class extends Ra{#i;#s;#a;#l;#u;#c;constructor(e){super(),this.#c=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#i=function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#i,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=ca(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#l?.promise;return this.#l?.cancel(e),t?t.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#i)}isActive(){return this.observers.some((e=>!1!==Zs(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ga||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!Ys(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#l&&(this.#c?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#c=!0,n.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=pa(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return r(n),this.#c=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(o),this.options.behavior?.onFetch(o,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#d({type:"fetch",meta:o.fetchOptions?.meta});const i=e=>{Ia(e)&&e.silent||this.#d({type:"error",error:e}),Ia(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#l=xa({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(e){return void i(e)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else i(new Error(`${this.queryHash} data is undefined`))},onError:i,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#l.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ma(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Ia(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),fa.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function Ma(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ca(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Oa=class extends ma{constructor(e={}){super(),this.config=e,this.#h=new Map}#h;build(e,t,n){const r=t.queryKey,o=t.queryHash??na(r,t);let i=this.get(o);return i||(i=new Ea({cache:this,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fa.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>ea(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>ea(e,t))):t}notify(e){fa.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){fa.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){fa.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},Da=class extends Ra{#g;#p;#l;constructor(e){super(),this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#g=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#g.includes(e)||(this.#g.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#g=this.#g.filter((t=>t!==e)),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#g.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(e){this.#l=xa({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});const t="pending"===this.state.status,n=!this.#l.canStart();try{if(!t){this.#d({type:"pending",variables:e,isPaused:n}),await(this.#p.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#l.start();return await(this.#p.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#p.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#d({type:"success",data:r}),r}catch(t){try{throw await(this.#p.config.onError?.(t,e,this.state.context,this)),await(this.options.onError?.(t,e,this.state.context)),await(this.#p.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,t,e,this.state.context)),t}finally{this.#d({type:"error",error:t})}}finally{this.#p.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),fa.batch((()=>{this.#g.forEach((t=>{t.onMutationUpdate(e)})),this.#p.notify({mutation:this,type:"updated",action:e})}))}},Pa=class extends ma{constructor(e={}){super(),this.config=e,this.#f=new Map,this.#m=Date.now()}#f;#m;build(e,t,n){const r=new Da({mutationCache:this,mutationId:++this.#m,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=_a(e),n=this.#f.get(t)??[];n.push(e),this.#f.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=_a(e);if(this.#f.has(t)){const n=this.#f.get(t)?.filter((t=>t!==e));n&&(0===n.length?this.#f.delete(t):this.#f.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#f.get(_a(e))?.find((e=>"pending"===e.state.status));return!t||t===e}runNext(e){const t=this.#f.get(_a(e))?.find((t=>t!==e&&t.state.isPaused));return t?.continue()??Promise.resolve()}clear(){fa.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...this.#f.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>ta(t,e)))}findAll(e={}){return this.getAll().filter((t=>ta(e,t)))}notify(e){fa.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return fa.batch((()=>Promise.all(e.map((e=>e.continue().catch($s))))))}};function _a(e){return e.options.scope?.id??String(e.mutationId)}function ka(e){return{onFetch:(t,n)=>{const r=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let n=!1;const u=pa(t.options,t.fetchOptions),c=async(e,r,o)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:r,direction:o?"backward":"forward",meta:t.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await u(i),{maxPages:l}=t.options,c=o?ha:da;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,r,l)}};if(o&&i.length){const e="backward"===o,t={pages:i,pageParams:s},n=(e?Ta:Fa)(r,t);a=await c(t,n,e)}else{const t=e??i.length;do{const e=0===l?s[0]??r.initialPageParam:Fa(r,a);if(l>0&&null==e)break;a=await c(a,e),l++}while(l<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Fa(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ta(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function Na(e,t){return!!t&&null!=Fa(e,t)}function Aa(e,t){return!(!t||!e.getPreviousPageParam)&&null!=Ta(e,t)}var La=class{#v;#p;#u;#b;#y;#w;#C;#S;constructor(e={}){this.#v=e.queryCache||new Oa,this.#p=e.mutationCache||new Pa,this.#u=e.defaultOptions||{},this.#b=new Map,this.#y=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#C=va.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#v.onFocus())})),this.#S=ba.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#v.onOnline())})))}unmount(){this.#w--,0===this.#w&&(this.#C?.(),this.#C=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#v.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#v.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Js(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#v.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#v.get(r.queryHash),i=o?.state.data,s=function(e,t){return"function"==typeof e?e(t):e}(t,i);if(void 0!==s)return this.#v.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return fa.batch((()=>this.#v.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state}removeQueries(e){const t=this.#v;fa.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#v,r={type:"active",...e};return fa.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=fa.batch((()=>this.#v.findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then($s).catch($s)}invalidateQueries(e={},t={}){return fa.batch((()=>{if(this.#v.findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=fa.batch((()=>this.#v.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch($s)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then($s)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#v.build(this,t);return n.isStaleByTime(Js(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($s).catch($s)}fetchInfiniteQuery(e){return e.behavior=ka(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($s).catch($s)}ensureInfiniteQueryData(e){return e.behavior=ka(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ba.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#v}getMutationCache(){return this.#p}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#b.set(ra(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#b.values()];let n={};return t.forEach((t=>{oa(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){this.#y.set(ra(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#y.values()];let n={};return t.forEach((t=>{oa(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=na(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===ga&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#v.clear(),this.#p.clear()}},Va=e.createContext(void 0),za=t=>{const n=e.useContext(Va);if(t)return t;if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Ha=({client:t,children:n})=>(e.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,l.jsx)(Va.Provider,{value:t,children:n})),qa=class extends ma{constructor(e,t){super(),this.options=t,this.#I=e,this.#x=null,this.#R=ya(),this.options.experimental_prefetchInRender||this.#R.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#I;#E=void 0;#M=void 0;#O=void 0;#D;#P;#R;#x;#_;#k;#F;#T;#N;#A;#L=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#E.addObserver(this),Ba(this.#E,this.options)?this.#V():this.updateResult(),this.#z())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ka(this.#E,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ka(this.#E,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#q(),this.#E.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#E;if(this.options=this.#I.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Zs(this.options.enabled,this.#E))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#B(),this.#E.setOptions(this.options),n._defaulted&&!sa(this.options,n)&&this.#I.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#E,observer:this});const o=this.hasListeners();o&&ja(this.#E,r,this.options,n)&&this.#V(),this.updateResult(t),!o||this.#E===r&&Zs(this.options.enabled,this.#E)===Zs(n.enabled,this.#E)&&Js(this.options.staleTime,this.#E)===Js(n.staleTime,this.#E)||this.#K();const i=this.#j();!o||this.#E===r&&Zs(this.options.enabled,this.#E)===Zs(n.enabled,this.#E)&&i===this.#A||this.#G(i)}getOptimisticResult(e){const t=this.#I.getQueryCache().build(this.#I,e),n=this.createResult(t,e);return r=n,!sa(this.getCurrentResult(),r)&&(this.#O=n,this.#P=this.options,this.#D=this.#E.state),n;var r}getCurrentResult(){return this.#O}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#L.add(e)}getCurrentQuery(){return this.#E}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#I.defaultQueryOptions(e),n=this.#I.getQueryCache().build(this.#I,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#V({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#O)))}#V(e){this.#B();let t=this.#E.fetch(this.options,e);return e?.throwOnError||(t=t.catch($s)),t}#K(){this.#H();const e=Js(this.options.staleTime,this.#E);if(Ws||this.#O.isStale||!Xs(e))return;const t=Ys(this.#O.dataUpdatedAt,e)+1;this.#T=setTimeout((()=>{this.#O.isStale||this.updateResult()}),t)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#E):this.options.refetchInterval)??!1}#G(e){this.#q(),this.#A=e,!Ws&&!1!==Zs(this.options.enabled,this.#E)&&Xs(this.#A)&&0!==this.#A&&(this.#N=setInterval((()=>{(this.options.refetchIntervalInBackground||va.isFocused())&&this.#V()}),this.#A))}#z(){this.#K(),this.#G(this.#j())}#H(){this.#T&&(clearTimeout(this.#T),this.#T=void 0)}#q(){this.#N&&(clearInterval(this.#N),this.#N=void 0)}createResult(e,t){const n=this.#E,r=this.options,o=this.#O,i=this.#D,s=this.#P,a=e!==n?e.state:this.#M,{state:l}=e;let u,c={...l},d=!1;if(t._optimisticResults){const o=this.hasListeners(),i=!o&&Ba(e,t),s=o&&ja(e,n,t,r);(i||s)&&(c={...c,...Ma(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:p}=c;if(t.select&&void 0!==c.data)if(o&&c.data===i?.data&&t.select===this.#_)u=this.#k;else try{this.#_=t.select,u=t.select(c.data),u=ca(o?.data,u,t),this.#k=u,this.#x=null}catch(e){this.#x=e}else u=c.data;if(void 0!==t.placeholderData&&void 0===u&&"pending"===p){let e;if(o?.isPlaceholderData&&t.placeholderData===s?.placeholderData)e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#F?.state.data,this.#F):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#x=null}catch(e){this.#x=e}void 0!==e&&(p="success",u=ca(o?.data,e,t),d=!0)}this.#x&&(h=this.#x,u=this.#k,g=Date.now(),p="error");const f="fetching"===c.fetchStatus,m="pending"===p,v="error"===p,b=m&&f,y=void 0!==u,w={status:p,fetchStatus:c.fetchStatus,isPending:m,isSuccess:"success"===p,isError:v,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>a.dataUpdateCount||c.errorUpdateCount>a.errorUpdateCount,isFetching:f,isRefetching:f&&!m,isLoadingError:v&&!y,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:v&&y,isStale:Ga(e,t),refetch:this.refetch,promise:this.#R};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},r=()=>{const e=this.#R=w.promise=ya();t(e)},o=this.#R;switch(o.status){case"pending":e.queryHash===n.queryHash&&t(o);break;case"fulfilled":"error"!==w.status&&w.data===o.value||r();break;case"rejected":"error"===w.status&&w.error===o.reason||r()}}return w}updateResult(e){const t=this.#O,n=this.createResult(this.#E,this.options);if(this.#D=this.#E.state,this.#P=this.options,void 0!==this.#D.data&&(this.#F=this.#E),sa(n,t))return;this.#O=n;const r={};!1!==e?.listeners&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!this.#L.size)return!0;const r=new Set(n??this.#L);return this.options.throwOnError&&r.add("error"),Object.keys(this.#O).some((e=>{const n=e;return this.#O[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.#U({...r,...e})}#B(){const e=this.#I.getQueryCache().build(this.#I,this.options);if(e===this.#E)return;const t=this.#E;this.#E=e,this.#M=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#z()}#U(e){fa.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#O)})),this.#I.getQueryCache().notify({query:this.#E,type:"observerResultsUpdated"})}))}};function Ba(e,t){return function(e,t){return!1!==Zs(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Ka(e,t,t.refetchOnMount)}function Ka(e,t,n){if(!1!==Zs(t.enabled,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&Ga(e,t)}return!1}function ja(e,t,n,r){return(e!==t||!1===Zs(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Ga(e,n)}function Ga(e,t){return!1!==Zs(t.enabled,e)&&e.isStaleByTime(Js(t.staleTime,e))}var Ua=class extends qa{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:ka()},t)}getOptimisticResult(e){return e.behavior=ka(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:o,isRefetching:i,isError:s,isRefetchError:a}=r,l=n.fetchMeta?.fetchMore?.direction,u=s&&"forward"===l,c=o&&"forward"===l,d=s&&"backward"===l,h=o&&"backward"===l;return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Na(t,n.data),hasPreviousPage:Aa(t,n.data),isFetchNextPageError:u,isFetchingNextPage:c,isFetchPreviousPageError:d,isFetchingPreviousPage:h,isRefetchError:a&&!u&&!d,isRefetching:i&&!c&&!h}}};var Qa=e.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Wa=()=>e.useContext(Qa);function $a(){}var Xa=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ya=t=>{e.useEffect((()=>{t.clearReset()}),[t])},Ja=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>{return e.isError&&!t.isReset()&&!e.isFetching&&r&&(o=n,i=[e.error,r],"function"==typeof o?o(...i):!!o);var o,i},Za=e.createContext(!1),el=()=>e.useContext(Za),tl=(Za.Provider,e=>{e.suspense&&(void 0===e.staleTime&&(e.staleTime=1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))}),nl=(e,t)=>e.isLoading&&e.isFetching&&!t,rl=(e,t)=>e?.suspense&&t.isPending,ol=(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()}));function il(t,n){return function(t,n,r){const o=za(r),i=el(),s=Wa(),a=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",tl(a),Xa(a,s),Ya(s);const l=!o.getQueryCache().get(a.queryHash),[u]=e.useState((()=>new n(o,a))),c=u.getOptimisticResult(a);if(e.useSyncExternalStore(e.useCallback((e=>{const t=i?()=>{}:u.subscribe(fa.batchCalls(e));return u.updateResult(),t}),[u,i]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),e.useEffect((()=>{u.setOptions(a,{listeners:!1})}),[a,u]),rl(a,c))throw ol(a,u,s);if(Ja({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash)}))throw c.error;if(o.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!Ws&&nl(c,i)){const e=l?ol(a,u,s):o.getQueryCache().get(a.queryHash)?.promise;e?.catch($a).finally((()=>{u.updateResult()}))}return a.notifyOnChangeProps?c:u.trackResult(c)}(t,Ua,n)}function sl(e="array"){return(0,Bs.useSelect)((t=>{const{getPostTypes:n}=t(Ks.store),r=n({per_page:-1});if("object"===e){const e={};return Array.isArray(r)?(r.forEach((t=>{e[t.slug]=t})),e):e}return r}),[])}const al=new La;function ll({children:t,...n}){return(0,e.createElement)(Ha,{client:al},(0,e.createElement)(ul,{...n}))}function ul({value:t,onChange:n,onInputChange:r,onClear:a,help:l,placeholder:u,multiple:c=!1,postType:d=["any"],postStatus:h=["publish"],currentPostId:g=0,includeCurrent:p=!0,label:f=(0,s.__)("Select Post","generateblocks-pro")}){const m=sl("object"),v=(0,o.useRef)(0),{status:b,data:y=[],error:w,isFetching:C,fetchNextPage:S,hasNextPage:I}=il({queryKey:["getPosts",{postType:d,currentPostId:g,value:t}],queryFn:async({pageParam:e})=>{const t={post_type:d,posts_per_page:150,post__not_in:[g],post_status:h,paged:e,ignore_sticky_posts:!0},n=await Qs()({path:"/generateblocks/v1/get-wp-query",method:"POST",data:{args:t,attributes:{},block:{}}});return n?.max_num_pages!==v&&(v.current=n.max_num_pages),n.posts},initialPageParam:1,getNextPageParam:(e,t,n)=>{const r=n+1;return r>v.current?void 0:r},maxPages:v.current,staleTime:6e4}),x="error"===b;I&&S();let R=l;C&&(R=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Spinner,{style:{margin:"0 8px 0 0",width:"12px",height:"12px"}}),(0,s.__)("Loading more posts…","generateblocks-pro")));const E=(0,o.useMemo)((()=>Array.isArray(y?.pages)?function(e,t,n){const r={};e.forEach((e=>{const t={label:`#${e.ID} ${""!==e.post_title?e.post_title:e.post_name}`,value:e.ID};Array.isArray(r?.[e.post_type])?r[e.post_type].push(t):r[e.post_type]=[t]}));const o=Object.entries(r).map((([e,n])=>{var r;return{id:e,label:null!==(r=t?.[e]?.labels?.name)&&void 0!==r?r:e,items:n}})),{isGbProActive:i=!1}=gbPermissions||{};return i&&n?[{label:(0,s.__)("Current","generateblocks-pro"),items:[{label:(0,s.__)("Current Post","generateblocks-pro"),value:"current"}]},...o]:o}(y.pages.flat(),m,p):[]),[y?.pages,m]);return c?(0,e.createElement)(Pt,{label:f,value:0===t?[]:t,onChange:n,onInputChange:r,help:x?w.message:R,placeholder:u,options:E}):(0,e.createElement)(Mt,{label:f,selected:t,onSelect:n,onChange:r,source:E,showClear:!!a,onClear:a,help:x?w.message:R,toStringKey:"label",itemFilter:Mt.groupItemFilter,filterOnSelect:!1,placeholder:u})}const cl=new La;function dl({children:t,...n}){return(0,e.createElement)(Ha,{client:cl},(0,e.createElement)(hl,{...n}))}function hl({value:t,onChange:n,onInputChange:r,onClear:a,help:l,placeholder:u,multiple:c=!1,currentLabel:d=(0,s.__)("Current User","generateblocks-pro"),label:h=(c?(0,s.__)("Select Users","generateblocks-pro"):(0,s.__)("Select User","generateblocks-pro")),includeCurrent:g=!0}){const p=(0,o.useRef)(0),{status:f,data:m=[],error:v,isFetching:b,fetchNextPage:y,hasNextPage:w}=il({queryKey:["getUsers",{value:t}],queryFn:async({pageParam:e})=>{const t={number:150,paged:e},n=await Qs()({path:"/generateblocks/v1/get-user-query",method:"POST",data:{args:t}});return n?.max_pages!==p&&(p.current=n.max_pages),n.users},initialPageParam:1,getNextPageParam:(e,t,n)=>{const r=n+1;return r>p.current?void 0:r},maxPages:p.current,staleTime:6e4}),C="error"===f;w&&y();let S=l;b&&(S=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.Spinner,{style:{margin:"0 8px 0 0",width:"12px",height:"12px"}}),(0,s.__)("Loading more users…","generateblocks-pro")));const I=(0,o.useMemo)((()=>Array.isArray(m?.pages)?function(t,n,r){const o=t.map((t=>{const{data:n={},roles:r=[]}=t,{display_name:o,user_login:a}=n;return{label:`#${t.ID} ${o||a}`,info:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.VisuallyHidden,null,(0,s.__)("Roles:","generateblocks-pro")),r.join(", ")),value:t.ID,id:t.ID}})),{isGbProActive:a=!1}=gbPermissions||{};return a&&r?[{label:n,value:"current"},...o]:o}(m.pages.flat(),d,g):[]),[m?.pages]);return c?(0,e.createElement)(Pt,{label:h,value:0===t?[]:t,onChange:n,onInputChange:r,help:C?v.message:S,placeholder:u,options:I}):(0,e.createElement)(Mt,{label:h,selected:t,onSelect:n,onChange:r,source:I,showClear:!!a,onClear:a,help:C?v.message:S,toStringKey:"label",itemFilter:Mt.groupItemFilter,filterOnSelect:!1,placeholder:u})}function gl({onChange:t,value:n,help:r}){const i=sl(),a=(0,o.useMemo)((()=>{const e=Array.isArray(i)?i.filter((e=>e.viewable&&"attachment"!==e.slug)):[];return(0,Ht.applyFilters)("generateblocks.editor.enabledPostTypes",e,i)}),[i]),l=(0,o.useMemo)((()=>a.reduce(((e,t)=>(e.push({value:t.slug,label:t.name}),e)),[])),[a]);return(0,e.createElement)(Pt,{id:"gblocks-select-post-type",label:(0,s.__)("Select post type","generateblocks"),help:r,placeholder:(0,s.__)("Select post type","generateblocks"),options:l,value:n,onChange:t})}function pl({value:t,taxonomy:n,onChange:r,postId:o,placeholder:i,help:a,noResultsText:l,multiple:u=!1,currentLabel:c=(0,s.__)("Current post terms","generateblocks-pro"),label:d=(u?(0,s.__)("Select Terms","generateblocks-pro"):(0,s.__)("Select Term","generateblocks-pro")),includeCurrent:h=!0,onClear:g}){const p=Cl({taxonomy:n,postId:o}),f=Array.isArray(p)?p.map((e=>({label:e.name,value:e.id.toString(),id:e.id}))):[],{isGbProActive:m=!1}=gbPermissions||{};return m&&h&&f.unshift({label:c,value:"current",id:"current"}),u?(0,e.createElement)(Pt,{id:"gblocks-select-term",label:d,value:t,onChange:r,placeholder:i,help:a,options:f,noResultsText:l}):(0,e.createElement)(Mt,{id:"gblocks-select-term",label:d,placeholder:i,selected:t,source:f,onSelect:r,toStringKey:"label",showClear:!0,filterOnSelect:!1,help:a,noResultsText:l,onClear:g})}function fl({postId:e,load:t=[],options:n={}}){const[r,i]=(0,o.useState)(null),[s,a]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{e&&t.length&&async function(){a(!0);try{const r=await Qs()({path:`/generateblocks/v1/post-record?postId=${e}&load=${t.join()}&options=${JSON.stringify(n)}`});i(r)}catch(e){console.error("Error fetching post record:",e)}finally{a(!1)}}()}),[e,t,n]),{record:r,isLoading:s}}function ml(e){const[t,n]=(0,o.useState)(null),[r,i]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{e&&async function(){i(!0);try{const t=await Qs()({path:`/generateblocks/v1/get-user-record?id=${e}`});n(t)}catch(e){console.error("Error fetching user record:",e)}finally{i(!1)}}()}),[e]),{record:t,isLoading:r}}function vl({termId:e,taxonomy:t}){return(0,Bs.useSelect)((n=>{const{isResolving:r,getEntityRecord:o,hasFinishedResolution:i}=n(Ks.store);if(!e||!t)return{record:null,isLoading:!1};const s=(0,Ht.applyFilters)("generateblocks.editor.dynamicTags.term-request-params",["taxonomy",t,e]),a=o(...s),l=!i("getEntityRecord",s)||r("getEntityRecord",s);return{record:(0,Ht.applyFilters)("generateblocks.editor.dynamicTags.termRecord",a),isLoading:l}}))}function bl({shouldRequest:e=!0,id:t,key:n,singleOnly:r=!1}){const[i,s]=(0,o.useState)({data:null,isResolvingData:!0,hasResolvedData:!1});return(0,o.useEffect)((()=>{e&&t&&n&&(async()=>{const e=await Qs()({path:`/generateblocks/v1/meta/get-post-meta?id=${t}&key=${n}&singleOnly=${r}`});s({data:e,isResolvingData:!1,hasResolvedData:!0})})()}),[e,t,n,r]),i}function yl({shouldRequest:e=!0,key:t,singleOnly:n=!1}){const[r,i]=(0,o.useState)({data:null,isResolvingData:!0,hasResolvedData:!1});return(0,o.useEffect)((()=>{e&&t&&(async()=>{const e=await Qs()({path:`/generateblocks/v1/meta/get-option?key=${t}&singleOnly=${n}`});i({data:e,isResolvingData:!1,hasResolvedData:!0})})()}),[e,t,n]),r}function wl(e=!0){return(0,Bs.useSelect)((t=>{const{isResolving:n,getEntityRecords:r,hasFinishedResolution:o}=t(Ks.store);if(!e)return{record:null,isLoading:!1};const i=["root","user",{per_page:-1}];return{records:r(...i),isLoading:!o("getEntityRecord",i)||n("getEntityRecord",i)}}),[e])}function Cl({taxonomy:e,postId:t}){return(0,Bs.useSelect)((n=>{const{getEntityRecords:r}=n(Ks.store),o=["taxonomy",e];return t&&o.push({post:t}),r(...o)}),[e,t])}})(),r})(),e.exports=t()}},t={},n=function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(224);(window.gb=window.gb||{}).components=n})();