(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.data,r=window.gbp.stylesBuilder,o=(0,t.createReduxStore)("gbp-block-styles-current-style",{reducer:r.currentStyleReducer,actions:r.currentStyleActions,selectors:r.currentStyleSelectors}),s=(0,t.createReduxStore)("gbp-block-styles-at-rule",{reducer:r.atRuleReducer,actions:r.atRuleActions,selectors:r.atRuleSelectors}),n=(0,t.createReduxStore)("gbp-block-styles-nested-rule",{reducer:r.nestedRuleReducer,actions:r.nestedRuleActions,selectors:r.nestedRuleSelectors});(0,t.register)(o),(0,t.register)(s),(0,t.register)(n);const a=window.React,l=window.wp.hooks,c=window.wp.compose,i=window.wp.blockEditor,u=window.wp.i18n,d=window.wp.components,p=window.wp.element,m=window.wp.primitives,y=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),g=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),b={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let k;const h=new Uint8Array(16);function _(){if(!k&&(k="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!k))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(h)}const w=[];for(let e=0;e<256;++e)w.push((e+256).toString(16).slice(1));const S=function(e,t,r){if(b.randomUUID&&!t&&!e)return b.randomUUID();const o=(e=e||{}).random||(e.rng||_)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]}(o)},f=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"],v=e=>e.replace(/[^a-zA-Z0-9-_\.]/g,""),E=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");function C({items:e={},onAdd:t,onRemove:r,onChange:o,label:s=(0,u.__)("HTML Attributes","generateblocks")}){const[n,l]=(0,p.useState)(""),[c,i]=(0,p.useState)(""),[m,b]=(0,p.useState)(""),[k,h]=(0,p.useState)(null);return(0,a.createElement)(d.BaseControl,{label:s,id:S()},(0,a.createElement)("div",{className:"gb-html-attributes"},Object.entries(e).map((([t,s],n)=>(0,a.createElement)("div",{className:"gb-html-attributes__item",key:n},(0,a.createElement)(d.TextControl,{type:"text",value:k&&k.oldKey===t?k.key:t,onChange:e=>h({oldKey:t,key:e,value:s}),title:t}),(0,a.createElement)(d.TextControl,{type:"text",value:k&&k.oldKey===t?k.value:s,onChange:e=>h({oldKey:t,key:t,value:e}),title:s}),k&&k.oldKey===t?(0,a.createElement)(d.Button,{onClick:()=>(t=>{if(!k.value&&!f.includes(k.key))return void b("Attribute value is required.");if("class"===k.key)return void b("Class attribute is not allowed.");if(!k.key)return void b("Attribute name is required.");const r={...e};delete r[t],r[v(k.key)]=E(k.value),o(r),h(null),b("")})(t),icon:y,size:"small",iconSize:"20",variant:"primary"}):(0,a.createElement)(d.Button,{onClick:()=>(t=>{const o={...e};delete o[t],r(o)})(t),icon:g,size:"small",iconSize:"20",isDestructive:!0})))),(0,a.createElement)("div",{className:"gb-html-attributes__item"},(0,a.createElement)(d.TextControl,{type:"text",value:n,onChange:e=>l(e),placeholder:(0,u.__)("Name","generateblocks-pro")}),(0,a.createElement)(d.TextControl,{type:"text",value:c,onChange:e=>i(e),placeholder:(0,u.__)("Value","generateblocks-pro")}),(0,a.createElement)(d.Button,{onClick:()=>{c||f.includes(n)?"class"!==n?n?(t({...e,[v(n)]:E(c)}),l(""),i(""),b("")):b("Attribute name is required."):b("Class attribute is not allowed."):b("Attribute value is required.")},icon:y,size:"small",iconSize:"20",disabled:!n,variant:"primary",style:{display:n||Object.keys(e).length?"":"none",opacity:!n&&Object.keys(e).length?0:1}})),m&&(0,a.createElement)("div",{className:"error-message"},m)))}const A=["generateblocks/button-container","generateblocks/button","generateblocks/container","generateblocks/headline","generateblocks/image","generateblocks/grid","generateblocks/query-loop"],R=(0,c.createHigherOrderComponent)((e=>t=>{const{isSelected:r,attributes:o,setAttributes:s}=t,{htmlAttributes:n}=o,l=t.name.startsWith("generateblocks")&&!A.includes(t.name);return r&&l?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,{...t}),(0,a.createElement)(i.InspectorAdvancedControls,null,(0,a.createElement)(C,{items:n,onAdd:e=>s({htmlAttributes:e}),onRemove:e=>s({htmlAttributes:e}),onChange:e=>s({htmlAttributes:e})}))):(0,a.createElement)(e,{...t})}),"withHtmlAttributesControl");(0,l.addFilter)("editor.BlockEdit","generateblocks-pro/html-attributes/add-control",R),(0,l.addFilter)("generateblocks.blockSettings.afterImageUrlControls","generateblocks-pro/add-image-link-attributes-control",(function(e,t){const{attributes:r,setAttributes:o}=t,{linkHtmlAttributes:s,tagName:n}=r;return s?.href&&"img"===n?(0,a.createElement)(a.Fragment,null,e,(0,a.createElement)(C,{label:(0,u.__)("Link Attributes","generateblocks"),items:s,onAdd:e=>o({linkHtmlAttributes:e}),onRemove:e=>o({linkHtmlAttributes:e}),onChange:e=>o({linkHtmlAttributes:e})})):e}));const T=window.gbp.blockStyles,P=(0,p.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,p.createElement)(m.Path,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}));function x({styles:e={},onPaste:r,clientId:o,onClear:s}){const{updateBlockAttributes:n}=(0,t.useDispatch)("core/block-editor"),{getMultiSelectedBlockClientIds:l,hasMultiSelection:c}=(0,t.useSelect)("core/block-editor"),i="generateblocksLocalStyles",m=JSON.parse(sessionStorage.getItem(i)),y=(0,p.useMemo)((()=>Object.keys(e).length),[e]);return y||m?(0,a.createElement)(d.ToolbarGroup,{isCollapsed:!0,icon:P,label:(0,u.__)("Styles","generateblocks-pro"),controls:[{title:(0,u.__)("Copy Styles","generateblocks-pro"),onClick:()=>{sessionStorage.setItem(i,JSON.stringify(e))},isDisabled:c()||!y},{title:(0,u.__)("Paste Styles","generateblocks-pro"),onClick:()=>{const e=JSON.parse(sessionStorage.getItem(i));e&&r(e)},isDisabled:!m},{title:(0,u.__)("Clear Styles","generateblocks-pro"),onClick:()=>{if(window.confirm(c()?(0,u.__)("This will remove all styling from these blocks.","generateblocks-pro"):(0,u.__)("This will remove all styling from this block.","generateblocks-pro"))){const e=c()?l():[o],t={};e.forEach((e=>{t[e]={styles:{}}})),n(e,t,!0),s&&s()}},isDisabled:!y}]}):null}const I=(0,c.createHigherOrderComponent)((e=>t=>{const{name:o,attributes:s,clientId:n}=t,{styles:l}=s,c=(0,T.useSetStyles)(t,{cleanStylesObject:r.cleanStylesObject});return o.startsWith("generateblocks/")&&void 0!==l?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,{...t}),(0,a.createElement)(i.BlockControls,null,(0,a.createElement)(x,{styles:l,clientId:n,onPaste:c}))):(0,a.createElement)(e,{...t})}),"withCopyStylesToolbar");(0,l.addFilter)("editor.BlockEdit","generateblocks-pro/copy-paste-styles",I);const F=window.wp.plugins;(0,t.createReduxStore)("gbp-current-style",{reducer:r.currentStyleReducer,actions:r.currentStyleActions,selectors:r.currentStyleSelectors}),(0,t.createReduxStore)("gbp-styles",{reducer:r.styleReducer,actions:r.styleActions,selectors:r.styleSelectors}),(0,t.createReduxStore)("gbp-styles-at-rule",{reducer:r.atRuleReducer,actions:r.atRuleActions,selectors:r.atRuleSelectors}),(0,t.createReduxStore)("gbp-styles-nested-rule",{reducer:r.nestedRuleReducer,actions:r.nestedRuleActions,selectors:r.nestedRuleSelectors});const L=window.wp.apiFetch;var O=e.n(L);window.wp.notices;const B=window.wp.url;function N(){return(0,t.useSelect)((()=>{const e=(0,B.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.select)(e?"core/edit-site":"core/editor");return{getSettings:e?r.getSettings:r.getEditorSettings}}),[])}function q(){const e=(0,B.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.useDispatch)(e?"core/edit-site":"core/editor");return{updateSettings:e?r.updateSettings:r.updateEditorSettings}}function M(){const{updateSettings:e}=q(),{getSettings:t}=N();return async(r,o="")=>{if(!o){const e=await O()({path:(0,B.addQueryArgs)("/generateblocks-pro/v1/global-classes/get_css",{selector:r}),method:"GET"});!0===e.success&&(o=e.response.data.toString())}const s=t(),n=s?.styles?.find((e=>"gb_class:"+r===e.source));e(n?{...s,styles:s?.styles.map((e=>"gb_class:"+r!==e.source?e:{...e,css:o}))}:{...s,styles:[...s?.styles,{css:o,source:"gb_class:"+r}]})}}const D=window.wp.coreData;window.lodash,(0,l.applyFilters)("generateblocks.utils.noStyleAttributes",["accordionItemOpen","accordionMultipleOpen","alt","anchor","ariaLabel","blockLabel","blockVersion","buttonType","className","columns","content","cssClasses","customIcon","dateReplacePublished","dateType","defaultOpenedTab","dynamicContentType","dynamicLinkType","dynamicSource","element","elementId","globalClasses","globalStyleId","globalStyleLabel","gridId","hasIcon","hasUrl","hiddenLinkAriaLabel","href","htmlAttributes","icon","iconLocation","isDynamic","isDynamic","isGlobalStyle","isGrid","isPagination","isQueryLoop","isQueryLoopItem","linkMetaFieldName","linkType","lock","marginSyncUnits","mediaId","mediaUrl","metaFieldName","multipleCommentsText","noCommentsText","openInNewWindow","paddingSyncUnits","postId","postType","query","relNoFollow","relSponsored","singleCommentsText","sizeSlug","tabItemOpen","tagName","target","termSeparator","termTaxonomy","text","title","uniqueId","url","useDynamicData","useGlobalStyle","useInnerContainer","variantRole"]),generateBlocksPro.canManageStyles,window.wp.editPost,(0,F.registerPlugin)("generateblocks-pro-update-style-selectors",{render:function(){const{getSettings:e}=N(),{updateSettings:t}=q(),r=e(),{styles:o}=r;return(0,p.useEffect)((()=>{if(!Array.isArray(o))return;const e=o.filter((e=>e.source?.startsWith("gb_class:"))).map((e=>{const t=(0,i.transformStyles)([{css:e.css}],".editor-styles-wrapper")?.[0];return t?{css:t,source:e.source}:null})).filter(Boolean);e.length>0&&t({...r,styles:r.styles.map((t=>{const r=e.find((e=>e.source===t.source));return r?{...t,css:r.css}:t}))})}),[]),null}}),(0,l.addFilter)("generateblocks.editor.SelectMetaKeys.options","generateblocks-pro/dynamic-tags/post-meta",(function(e,{post:t,term:r,user:o,type:s}){var n,a,l;const c="1"===generateBlocksPro?.isACFActive,i=!t&&!r&&!o&&"option"!==s,d=function(e=!0){const[t,r]=(0,p.useState)([]);return(0,p.useEffect)((()=>{e?(async()=>{try{const e=await O()({path:"/generateblocks-pro/v1/get-acf-option-fields",method:"GET"});r(e)}catch(e){console.error("Failed to fetch ACF option fields:",e),r([])}})():r([])}),[e]),t}(c&&"option"===s&&!i);if(i||!c)return e;let m={};switch(s){case"post":m=null!==(n=t?.acf)&&void 0!==n?n:{};break;case"term":m=null!==(a=r?.acf)&&void 0!==a?a:{};break;case"user":m=null!==(l=o?.acf)&&void 0!==l?l:{};break;case"option":m=d;break;default:return e}const y=Object.keys(m);if(0===y.length)return e;const g=function(e){const t=[],r={},o=e.sort(((e,t)=>e.localeCompare(t))),s=[];o.forEach((e=>{o.forEach((o=>{const n=new RegExp(`^${e}_[A-z]`,"gi"),a=new RegExp(`^${e}_\\d`,"gi");o!==e&&o.startsWith(e)&&(o.match(n)?(t.push(o),Array.isArray(r[e])||(r[e]=[]),r[e].push(o.replace(`${e}_`,""))):o.match(a)&&s.push(o))}))}));const n=[];return o.filter((e=>!t.includes(e)&&!s.includes(e))).forEach((e=>{n.push({label:e,value:e}),Array.isArray(r?.[e])&&r[e].forEach((t=>{const r=`${e}.${t}`;n.push({label:r,value:r,className:"is-sub-field"})}))})),n}(y);return[...e,{id:"acf",label:(0,u.__)("ACF Fields","generateblocks-pro"),items:g}]})),(0,l.addFilter)("generateblocks.editor.SelectMetaKeys.keys","generateblocks-pro/dynamic-tags/acf",(function(e,t){const{acf:r={}}=t,o=Object.keys(r);return e.filter((e=>!o.includes(e.value)))})),(0,l.addFilter)("generateblocks.dynamicTags.sourceOptions","generateblocks-pro/dynamicTags/set-adjacent-post-options",(function(e,{dynamicTagType:t}){return"post"!==t||(e.push({value:"next-post",label:(0,u.__)("Next Post","generateblocks-pro")}),e.push({value:"previous-post",label:(0,u.__)("Previous Post","generateblocks-pro")})),e})),(0,l.addFilter)("generateblocks.dynamicTags.sourcesInOptions","generateblocks-pro/dynamicTags/set-adjacent-sources-in-options",(function(e){return e.push("next-post"),e.push("previous-post"),e}));const G=window.wp.editor,U=window.gbp.components;(0,l.addFilter)("generateblocks.editor.query.queryTypes","generateblocks-pro/query/addTypes",(function(e){return[...e,{label:(0,u.__)("Post Meta","generateblocks-pro"),value:"post_meta",help:(0,u.__)("Loop over post meta array value.","generateblocks-pro")},{label:(0,u.__)("Option","generateblocks-pro"),value:"option",help:(0,u.__)("Loop over option array value.","generateblocks-pro")}]})),(0,l.addFilter)("generateblocks.editor.query.inspectorControls","generateblocks-pro/query/inspector-controls",(function(e,{queryType:o,queryState:s,setParameter:n,removeParameter:l}){const c=(0,t.useSelect)((e=>{const{getCurrentPostId:t}=e(G.store);return t?t():null})),{meta_key:i="",meta_key_id:m="",posts_per_page:y=10}=s,g=(0,p.useMemo)((()=>{const e=[];return"post_meta"===o&&e.push("post"),{load:e,options:{},postId:m?parseInt(m,10):c}}),[o,m]),{record:b}=(0,U.usePostRecord)(g);m&&"post_meta"!==o&&l("meta_key_id"),i&&!["option","post_meta"].includes(o)&&l("meta_key");const k=(0,p.useCallback)((function(e){var t;return n("meta_key_id",null!==(t=e?.value)&&void 0!==t?t:"")}),[n]),h=(0,p.useCallback)((function(){l("meta_key_id")}),[]);return(0,a.createElement)(a.Fragment,null,e,"post_meta"===o&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(U.SelectPost,{selected:m,value:m.toString(),onChange:k,onClear:h,help:(0,u.__)("Type to search for posts.","generateblocks-pro"),currentPostId:c,placeholder:(0,u.__)("Current Post","generateblocks-pro")}),(0,a.createElement)(U.SelectMeta,{onSelect:e=>{e?.value?n("meta_key",e.value):l("meta_key")},onClear:()=>l("meta_key"),onEnter:e=>n("meta_key",e),onAdd:({inputValue:e})=>n("meta_key",e),help:(0,u.__)("Meta value must be an array","generateblocks-pro"),value:i,post:b,type:"post"}),(0,a.createElement)(r.Control,{as:d.TextControl,label:(0,u.__)("Per Page","generateblocks-pro"),value:y,onChange:e=>n("per_page",e),type:"number",min:-1})),"option"===o&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(U.SelectMeta,{onSelect:e=>{e?.value?n("meta_key",e.value):l("meta_key")},onClear:()=>l("meta_key"),onEnter:e=>n("meta_key",e),onAdd:({inputValue:e})=>n("meta_key",e),help:(0,u.__)("Meta value must be an array","generateblocks-pro"),value:i,type:"option"}),(0,a.createElement)(r.Control,{as:d.TextControl,label:(0,u.__)("Per Page","generateblocks-pro"),value:y,onChange:e=>n("per_page",e),type:"number",min:-1})))})),(0,l.addFilter)("generateblocks.editor.looper.query","generateblocks-pro/looper/custom-query",(function(e,{query:t,queryType:r,context:o}){var s,n,a;const l=null!==(s=null!==(n=t?.meta_key_id)&&void 0!==n?n:o?.postId)&&void 0!==s?s:0,c=null!==(a=t?.meta_key)&&void 0!==a?a:"",i=(0,U.usePostMeta)({shouldRequest:"post_meta"===r,id:l,key:c}),u=(0,U.useOption)({shouldRequest:"option"===r,key:c});return"post_meta"===r&&i.data?i:"option"===r&&u.data?u:e}),10,2);const z=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));(0,l.addAction)("generateblocks.patterns.patternsList","generateblocks.patterns.setGlobalStyleCSS",(({activeLibrary:e,setGlobalStyleCSS:t,setGlobalStyleData:r,isLocal:o,cacheIsClearing:s})=>{(0,p.useEffect)((()=>{!async function(){if(o)t(""),r([]);else{var s,n;const{data:o}=await async function(e){try{const t=await O()({path:(0,B.addQueryArgs)("/generateblocks-pro/v1/pattern-library/get-global-style-data",{url:e?.domain,id:e?.id,publicKey:e?.publicKey}),method:"GET",headers:{"X-GB-Public-Key":e.publicKey}});if(t)return t.response}catch(e){return[]}}(e);t(null!==(s=o?.css)&&void 0!==s?s:""),r(null!==(n=o?.styles)&&void 0!==n?n:[])}}()}),[e?.id,s])})),(0,l.addFilter)("generateblocks.patterns.insertPatternButton","generateblocks.patterns.insertGlobalStyleButton",((e,{onClick:o,label:s,patterns:n,globalStyleData:l,className:c,disabled:i})=>{const u=M(),m=function(){const{editEntityRecord:e}=(0,t.useDispatch)(D.store),o=M();return async(t,s,n)=>{const a=await(0,r.getCss)(t,n),l=["postType","gblocks_styles",s];await e(...l,{title:t,gb_style_selector:t,gb_style_data:n,gb_style_css:a});const c=await(0,r.getCss)(t,n,"editor");o(t,c)}}(),[y,g]=(0,p.useState)(!1),{getEntityRecordEdits:b,getEntityRecord:k}=(0,t.useSelect)(D.store);return(0,a.createElement)(d.Button,{variant:"primary",className:c,icon:z,isBusy:y,disabled:i,onClick:async e=>{g(!0);const t=n.map((e=>e.globalStyleSelectors)).flat();if(!t.length)return void o(e);const r=[];if(t.forEach((e=>{const t=l.find((t=>t.className===e));t&&!r.includes(t)&&r.push(t)})),r.length)try{const t=await O()({path:"/generateblocks-pro/v1/pattern-library/import-styles",method:"POST",data:{styles:r}}),s=t?.response?.data?.imported,n=t?.response?.data?.existing;if(n?.length){const e=n.find((e=>".gbp-section__inner"===e.selector));e&&await async function(e,t=[]){const r=l.find((t=>t.className===e.selector)),o=JSON.parse(r.styles),s=await b("postType","gblocks_styles",e.id),n={...e.styles},a={...s?.gb_style_data||n};let c=!1;for(const e of t)!a[e]&&o[e]&&(a[e]=o[e],c=!0);c&&await async function(e,t,r=10){return new Promise((o=>{let s=0;const n=()=>{const a=k(e,"gblocks_styles",t);a?o(a):s<r&&(s++,setTimeout(n,100))};n()}))}("postType",e.id)&&await m(e.selector,e.id,a)}(e,["maxWidth"])}s.length&&s.forEach((e=>{const t=l.find((t=>t.className===e))?.css;u(e,t)})),o(e),g(!1)}catch(t){o(e),g(!1)}else o(e)}},s)})),(0,l.addFilter)("generateblocks.patternLibrary.addLibraryContent","generateblocks.patternLibrary.addRemoteLibrary",((e,{setShowAddLibrary:t,setLibraries:r})=>{const[o,s]=(0,p.useState)(""),[n,l]=(0,p.useState)(""),[c,i]=(0,p.useState)(""),[m,y]=(0,p.useState)(!1);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(d.TextControl,{label:(0,u.__)("Domain","generateblocks-pro"),value:n,onChange:l,type:"url",placeholder:"https://yourdomain.com",onBlur:()=>{""===n||n.startsWith("http")?n&&s(""):l("https://"+n.replace(/^\/\//,""))}}),(0,a.createElement)(d.TextControl,{label:(0,u.__)("Public key","generateblocks-pro"),value:c,onChange:i,onBlur:()=>{c&&s("")}}),(0,a.createElement)(d.Button,{disabled:!!o,variant:"primary",isBusy:m,onClick:async()=>{if(y(!0),s(""),""===n)return s((0,u.__)("Please enter a domain.","generateblocks-pro")),void y(!1);if(""===c)return s((0,u.__)("Public key is required.","generateblocks-pro")),void y(!1);const e={id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),domain:n,publicKey:c,isEnabled:!0,isDefault:!1,isLocal:!1};try{const o=await O()({path:"/generateblocks-pro/v1/pattern-library/add-library",method:"POST",data:{domain:n,publicKey:c,data:e}});if(!o?.success)throw new Error(o?.response);await r(),t(!1),y(!1)}catch(e){s(e?.message||(0,u.__)("Error adding library.","generateblocks-pro")),y(!1)}}},(0,u.__)("Add","generateblocks-pro")),o&&(0,a.createElement)(d.Notice,{status:"error",isDismissible:!1,className:"gb-add-library__error"},o))})),(0,l.addFilter)("generateblocks.editor.allowCustomAtRule","generateblocks-pro/editor/allowCustomAtRule",(()=>!0)),(0,l.addFilter)("generateblocks.editor.allowCustomAdvancedSelector","generateblocks-pro/editor/allowCustomAdvancedSelector",(()=>!0))})();