(()=>{"use strict";const e=window.React,t=window.wp.blocks,s=window.wp.blockEditor,l=window.wp.compose,n=window.wp.element,r=window.wp.i18n,c=window.wp.components,o=window.gbp.blockStyles;function u(e,t,s=!1){const{styles:l={},uniqueId:n="",globalClasses:r=[]}=t,c=[];return s&&c.push(e),r.length>0&&c.push(...r),Object.keys(l).length>0&&c.push(`${e}-${n}`),c}const i=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"],a=window.gbp.stylesBuilder,d=window.wp.data,y=(0,d.createReduxStore)("gbp-block-styles-current-style",{reducer:a.currentStyleReducer,actions:a.currentStyleActions,selectors:a.currentStyleSelectors}),p=(0,d.createReduxStore)("gbp-block-styles-at-rule",{reducer:a.atRuleReducer,actions:a.atRuleActions,selectors:a.atRuleSelectors}),b=(0,d.createReduxStore)("gbp-block-styles-nested-rule",{reducer:a.nestedRuleReducer,actions:a.nestedRuleActions,selectors:a.nestedRuleSelectors});function g(){const e=(0,d.useSelect)((e=>e(p).getAtRule())),{setAtRule:t}=(0,d.useDispatch)(p),s=(0,d.useSelect)((e=>e(b).getNestedRule())),{setNestedRule:l}=(0,d.useDispatch)(b),n=(0,o.useCurrentAtRule)(a.defaultAtRules),{setCurrentStyle:r}=(0,d.useDispatch)(y),c=(0,d.useSelect)((e=>e(y).currentStyle())),{deviceType:u,setDeviceType:i}=(0,o.useDeviceType)();return{atRule:e,nestedRule:s,setAtRule:t,currentAtRule:n,setNestedRule:l,setDeviceType:i,deviceType:u,setCurrentStyle:r,currentStyle:c,getPreviewDevice:o.getPreviewDevice}}function m({attributes:t,setAttributes:s,shortcuts:l,onStyleChange:n}){const{atRule:r,setAtRule:c,nestedRule:o,setNestedRule:u,setDeviceType:i,getPreviewDevice:d,deviceType:y,currentStyle:p}=g(),{styles:b}=t,m=(0,a.getStylesObject)(b,r,o);return(0,e.createElement)(a.StylesBuilder,{currentSelector:p?.selector,styles:m,allStyles:b,onDeleteStyle:(e,t)=>{const l=(0,a.deleteStylesObjectKey)(b,e,t);s({styles:l})},nestedRule:o,atRule:r,onStyleChange:(e,t=null)=>n(e,t,r,o),onNestedRuleChange:e=>u(e),onAtRuleChange:e=>{c(e),i(d(e,y,a.defaultAtRules))},onUpdateKey:(e,t,l)=>{const n=(0,a.updateStylesObjectKey)(b,e,t,l);s({styles:n})},selectorShortcuts:l.selectorShortcuts,visibleSelectors:l.visibleShortcuts,scope:"local"})}const f=(0,l.compose)((function(t){return l=>{const{attributes:r,setAttributes:o}=l,{htmlAttributes:u={},uniqueId:a}=r,{style:d="",href:y,...p}=u,b="string"==typeof d?d.split(";").reduce(((e,t)=>{const s=t.indexOf(":");if(-1===s)return e;let l=t.slice(0,s).trim();const n=t.slice(s+1).trim();return l&&n&&(l.startsWith("--")||(l=l.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))),e[l]=n),e}),{}):d,g={...p,style:b,"data-gb-id":a},m=(0,n.useMemo)((()=>Array.isArray(u)?{}:u),[JSON.stringify(u)]);return(0,n.useEffect)((()=>{const e={...u};Object.keys(e).forEach((t=>{const s=e[t];i.includes(t)||""!==s||delete e[t],"string"!=typeof s&&"boolean"!=typeof s&&delete e[t],"class"===t&&delete e[t]})),function(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(const l of s)if(e[l]!==t[l])return!1;return!0}(e,u)||o({htmlAttributes:e})}),[JSON.stringify(u)]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...l,editorHtmlAttributes:g,htmlAttributes:m}),(0,e.createElement)(s.InspectorAdvancedControls,null,(0,e.createElement)(c.TextControl,{label:"HTML ID",value:u.id,onChange:e=>{o({htmlAttributes:{...u,id:e}})}})))}}),(function(t){return s=>{const{attributes:l,name:r,setAttributes:c,isSelected:u}=s,{uniqueId:i,styles:d}=l,{atRule:y,deviceType:p,setAtRule:b,currentStyle:m,setCurrentStyle:f,setNestedRule:S}=g(),h=(0,o.useSetStyles)(s,{cleanStylesObject:a.cleanStylesObject}),C=(0,n.useMemo)((()=>i?(0,o.getSelector)(r,i):""),[r,i]),R=Array.isArray(d)?{}:d;return(0,o.useAtRuleEffect)({deviceType:p,atRule:y,setAtRule:b,defaultAtRules:a.defaultAtRules}),(0,o.useGenerateCSSEffect)({selector:C,styles:R,setAttributes:c,getCss:a.getCss,getSelector:o.getSelector}),(0,o.useStyleSelectorEffect)({isSelected:u,currentStyle:m,selector:C,setCurrentStyle:f,setNestedRule:S,setAtRule:b,styles:R}),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Style,{selector:C,getCss:a.getCss,styles:R}),(0,e.createElement)(t,{...s,selector:C,onStyleChange:function(e,t="",s="",l=""){const n="object"==typeof e?e:{[e]:t},r=(0,o.buildChangedStylesObject)(n,s,l);h(r)},getStyleValue:function(e,t="",s=""){var l,n,r,c;return s?t?null!==(r=d?.[t]?.[s]?.[e])&&void 0!==r?r:"":null!==(n=d?.[s]?.[e])&&void 0!==n?n:"":t?null!==(c=d?.[t]?.[e])&&void 0!==c?c:"":null!==(l=d?.[e])&&void 0!==l?l:""},styles:R}))}}),o.withUniqueId)((function(t){const{attributes:l,editorHtmlAttributes:i={},htmlAttributes:a,styles:d,setAttributes:y,onStyleChange:p}=t,{tagName:b,uniqueId:g}=l,f=u("gb-accordion__content",{...l,styles:d},!0),S=(0,s.useBlockProps)({className:f.join(" ").trim(),...i}),h=(0,s.useInnerBlocksProps)(S),C=b||"div";return(0,n.useEffect)((()=>{b||y({tagName:"div"})}),[b]),(0,n.useEffect)((()=>{var e;if(!g)return;const t=null!==(e=a?.id)&&void 0!==e?e:"",s=t&&t.startsWith("gb-accordion-content-")&&t!==`gb-accordion-content-${g}`;t&&!s||y({htmlAttributes:{...a,id:`gb-accordion-content-${g}`}})}),[g,a?.id]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(o.BlockStyles,{settingsTab:(0,e.createElement)(c.PanelBody,null,(0,e.createElement)(c.Notice,{status:"info",isDismissible:!1},(0,e.createElement)("p",null,(0,r.__)("This block is necessary for the structure and transitions of the Accordion block.","generateblocks-pro")),(0,e.createElement)("p",{style:{marginBottom:0}},(0,r.__)("If using transitions, avoid adding any padding, margin or borders to this block.","generateblocks-pro")))),stylesTab:(0,e.createElement)(m,{setAttributes:y,shortcuts:{},onStyleChange:p})})),(0,e.createElement)(C,{...h}))})),S=JSON.parse('{"u2":"generateblocks-pro/accordion-content"}');(0,t.registerBlockType)(S.u2,{edit:f,save:function({attributes:t}){const{tagName:l,htmlAttributes:n={}}=t,r=u("gb-accordion__content",t,!0),c=s.useBlockProps.save({className:r.join(" ").trim(),...n});return(0,e.createElement)(l,{...s.useInnerBlocksProps.save(c)})},icon:function(){return(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"gblocks-block-icon","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M21.376,21.918L2.626,21.918C2.282,21.918 2,21.636 2,21.292C2,20.949 2.282,20.667 2.626,20.667L21.377,20.667C21.719,20.667 22.002,20.95 22.002,21.293C22.002,21.636 21.719,21.918 21.376,21.918C21.376,21.918 21.376,21.918 21.376,21.918ZM21.376,18.765L2.626,18.765C2.283,18.765 2.001,18.483 2.001,18.14C2.001,17.797 2.283,17.515 2.626,17.515L21.377,17.515C21.719,17.515 22.001,17.797 22.001,18.14C22.001,18.483 21.719,18.765 21.376,18.765C21.376,18.765 21.376,18.765 21.376,18.765ZM21.376,15.613L2.626,15.613C2.283,15.613 2.001,15.331 2.001,14.988C2.001,14.645 2.283,14.363 2.626,14.363L21.377,14.363C21.719,14.363 22.001,14.645 22.001,14.988C22.001,15.331 21.719,15.613 21.376,15.613C21.376,15.613 21.376,15.613 21.376,15.613Z",style:{fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M17.831,9.944C17.693,9.944 17.561,9.889 17.463,9.791L15.901,8.229L16.638,7.492L17.831,8.686L19.026,7.492L19.762,8.229L18.2,9.792C18.102,9.889 17.969,9.944 17.831,9.944Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M19.352,2L19.764,2.412L18.201,3.975C18.103,4.072 17.97,4.127 17.833,4.127C17.694,4.127 17.562,4.072 17.465,3.974L15.902,2.412L16.314,2L16.964,2L17.833,2.869L18.702,2L19.352,2Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M2.002,5.66L2.002,2L3.251,2L3.251,5.069L20.752,5.069L20.752,2L22.002,2L22.002,5.694C22.002,5.706 22.001,5.718 22.001,5.73L22.001,11.511C22.001,11.857 21.721,12.137 21.376,12.137L2.626,12.137C2.283,12.137 2,11.855 2,11.512C2,11.512 2,11.511 2.001,11.511L2.001,5.695C2.001,5.683 2.001,5.671 2.002,5.66ZM20.751,6.32L3.25,6.32L3.25,10.886L20.751,10.886L20.751,6.32Z",style:{fillOpacity:.3,fillRule:"nonzero"}}))}})})();