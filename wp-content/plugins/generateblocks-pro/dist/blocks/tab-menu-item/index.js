(()=>{"use strict";const e=window.React,t=window.wp.blocks,s=window.wp.compose,l=window.wp.element,r=window.wp.blockEditor,n=window.gbp.blockStyles,u=window.gbp.stylesBuilder,c=window.wp.data,o=(0,c.createReduxStore)("gbp-block-styles-current-style",{reducer:u.currentStyleReducer,actions:u.currentStyleActions,selectors:u.currentStyleSelectors}),i=(0,c.createReduxStore)("gbp-block-styles-at-rule",{reducer:u.atRuleReducer,actions:u.atRuleActions,selectors:u.atRuleSelectors}),a=(0,c.createReduxStore)("gbp-block-styles-nested-rule",{reducer:u.nestedRuleReducer,actions:u.nestedRuleActions,selectors:u.nestedRuleSelectors});function d(){const e=(0,c.useSelect)((e=>e(i).getAtRule())),{setAtRule:t}=(0,c.useDispatch)(i),s=(0,c.useSelect)((e=>e(a).getNestedRule())),{setNestedRule:l}=(0,c.useDispatch)(a),r=(0,n.useCurrentAtRule)(u.defaultAtRules),{setCurrentStyle:d}=(0,c.useDispatch)(o),b=(0,c.useSelect)((e=>e(o).currentStyle())),{deviceType:y,setDeviceType:f}=(0,n.useDeviceType)();return{atRule:e,nestedRule:s,setAtRule:t,currentAtRule:r,setNestedRule:l,setDeviceType:f,deviceType:y,setCurrentStyle:d,currentStyle:b,getPreviewDevice:n.getPreviewDevice}}function b({attributes:t,setAttributes:s,shortcuts:l,onStyleChange:r}){const{atRule:n,setAtRule:c,nestedRule:o,setNestedRule:i,setDeviceType:a,getPreviewDevice:b,deviceType:y,currentStyle:f}=d(),{styles:m}=t,g=(0,u.getStylesObject)(m,n,o);return(0,e.createElement)(u.StylesBuilder,{currentSelector:f?.selector,styles:g,allStyles:m,onDeleteStyle:(e,t)=>{const l=(0,u.deleteStylesObjectKey)(m,e,t);s({styles:l})},nestedRule:o,atRule:n,onStyleChange:(e,t=null)=>r(e,t,n,o),onNestedRuleChange:e=>i(e),onAtRuleChange:e=>{c(e),a(b(e,y,u.defaultAtRules))},onUpdateKey:(e,t,l)=>{const r=(0,u.updateStylesObjectKey)(m,e,t,l);s({styles:r})},selectorShortcuts:l.selectorShortcuts,visibleSelectors:l.visibleShortcuts,scope:"local"})}const y=window.wp.components,f=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"];function m(e,t,s=!1){const{styles:l={},uniqueId:r="",globalClasses:n=[]}=t,u=[];return s&&u.push(e),n.length>0&&u.push(...n),Object.keys(l).length>0&&u.push(`${e}-${r}`),u}const g=(0,s.compose)((function(t){return s=>{const{attributes:n,setAttributes:u}=s,{htmlAttributes:c={},uniqueId:o}=n,{style:i="",href:a,...d}=c,b="string"==typeof i?i.split(";").reduce(((e,t)=>{const s=t.indexOf(":");if(-1===s)return e;let l=t.slice(0,s).trim();const r=t.slice(s+1).trim();return l&&r&&(l.startsWith("--")||(l=l.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))),e[l]=r),e}),{}):i,m={...d,style:b,"data-gb-id":o},g=(0,l.useMemo)((()=>Array.isArray(c)?{}:c),[JSON.stringify(c)]);return(0,l.useEffect)((()=>{const e={...c};Object.keys(e).forEach((t=>{const s=e[t];f.includes(t)||""!==s||delete e[t],"string"!=typeof s&&"boolean"!=typeof s&&delete e[t],"class"===t&&delete e[t]})),function(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(const l of s)if(e[l]!==t[l])return!1;return!0}(e,c)||u({htmlAttributes:e})}),[JSON.stringify(c)]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...s,editorHtmlAttributes:m,htmlAttributes:g}),(0,e.createElement)(r.InspectorAdvancedControls,null,(0,e.createElement)(y.TextControl,{label:"HTML ID",value:c.id,onChange:e=>{u({htmlAttributes:{...c,id:e}})}})))}}),(function(t){return s=>{const{attributes:r,name:c,setAttributes:o,isSelected:i}=s,{uniqueId:a,styles:b}=r,{atRule:y,deviceType:f,setAtRule:m,currentStyle:g,setCurrentStyle:p,setNestedRule:S}=d(),h=(0,n.useSetStyles)(s,{cleanStylesObject:u.cleanStylesObject}),L=(0,l.useMemo)((()=>a?(0,n.getSelector)(c,a):""),[c,a]),R=Array.isArray(b)?{}:b;return(0,n.useAtRuleEffect)({deviceType:f,atRule:y,setAtRule:m,defaultAtRules:u.defaultAtRules}),(0,n.useGenerateCSSEffect)({selector:L,styles:R,setAttributes:o,getCss:u.getCss,getSelector:n.getSelector}),(0,n.useStyleSelectorEffect)({isSelected:i,currentStyle:g,selector:L,setCurrentStyle:p,setNestedRule:S,setAtRule:m,styles:R}),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Style,{selector:L,getCss:u.getCss,styles:R}),(0,e.createElement)(t,{...s,selector:L,onStyleChange:function(e,t="",s="",l=""){const r="object"==typeof e?e:{[e]:t},u=(0,n.buildChangedStylesObject)(r,s,l);h(u)},getStyleValue:function(e,t="",s=""){var l,r,n,u;return s?t?null!==(n=b?.[t]?.[s]?.[e])&&void 0!==n?n:"":null!==(r=b?.[s]?.[e])&&void 0!==r?r:"":t?null!==(u=b?.[t]?.[e])&&void 0!==u?u:"":null!==(l=b?.[e])&&void 0!==l?l:""},styles:R}))}}),n.withUniqueId)((function(t){const{attributes:s,setAttributes:u,onStyleChange:c,editorHtmlAttributes:o={},htmlAttributes:i,styles:a}=t,{tagName:d,uniqueId:y}=s,f=(0,l.useRef)(),[g,p]=(0,l.useState)(0),[S,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=f.current?.closest(".gb-tabs");if(!e)return;const t=()=>{p(e.getAttribute("data-opened-tab"))},s=new MutationObserver(t);return s.observe(e,{attributes:!0,attributeFilter:["data-opened-tab"]}),t(),()=>{s.disconnect()}}),[f]),(0,l.useEffect)((()=>{const e=f.current;if(!e)return;const t=()=>{e.classList.contains("is-selected")||e.classList.contains("has-child-selected")?h(!0):h(!1)},s=new MutationObserver(t);return s.observe(e,{attributes:!0,attributeFilter:["class"]}),t(),()=>{s.disconnect()}}),[f]),(0,l.useEffect)((()=>{if(!S||!g)return;const e=f.current?.closest(".gb-tabs");e&&e.getAttribute("data-opened-tab")!==L&&e.setAttribute("data-opened-tab",L)}),[S]);const L=(0,l.useMemo)((()=>{if(!f?.current)return;const e=f.current.closest(".gb-tabs__menu");return e?(Array.from(e.children).filter((e=>e.classList.contains("gb-tabs__menu-item"))).indexOf(f.current)+1).toString():-1}),[f?.current]),R=m("gb-tabs__menu-item",{...s,styles:a},!0),A=(0,l.useMemo)((()=>{let e=R;return g===L?e.push("gb-block-is-current"):e=e.filter((e=>"gb-block-is-current"!==e)),e}),[JSON.stringify(R),g,L]),C=(0,r.useBlockProps)({className:A.filter(Boolean).join(" ").trim(),...o,ref:f}),v=(0,r.useInnerBlocksProps)(C),w=d||"div";return(0,l.useEffect)((()=>{d||u({tagName:"div"})}),[d]),(0,l.useEffect)((()=>{var e;if(!y)return;const t=null!==(e=i?.id)&&void 0!==e?e:"",s=t&&t.startsWith("gb-tab-menu-item-")&&t!==`gb-tab-menu-item-${y}`;t&&!s||u({htmlAttributes:{...i,id:`gb-tab-menu-item-${y}`}})}),[y,i?.id]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(n.BlockStyles,{settingsTab:null,stylesTab:(0,e.createElement)(b,{attributes:s,setAttributes:u,shortcuts:{},onStyleChange:c})})),(0,e.createElement)(w,{...v}))})),p=JSON.parse('{"u2":"generateblocks-pro/tab-menu-item"}');(0,t.registerBlockType)(p.u2,{edit:g,save:function({attributes:t}){const{tagName:s,htmlAttributes:l={}}=t,n=m("gb-tabs__menu-item",t,!0),u=r.useBlockProps.save({className:n.join(" ").trim(),...l});return(0,e.createElement)(s,{...r.useInnerBlocksProps.save(u)})},icon:function(){return(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"gblocks-block-icon","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M18.23,13.26L5.77,13.26C5.43,13.26 5.15,13.54 5.15,13.88C5.15,14.22 5.43,14.5 5.77,14.5L18.23,14.5C18.57,14.5 18.85,14.22 18.85,13.88C18.85,13.54 18.58,13.26 18.23,13.26ZM18.23,16.29L5.77,16.29C5.43,16.29 5.15,16.57 5.15,16.91C5.15,17.25 5.43,17.53 5.77,17.53L18.23,17.53C18.57,17.53 18.85,17.25 18.85,16.91L18.85,16.9C18.85,16.565 18.575,16.29 18.24,16.29L18.23,16.29ZM5.14,10.85C5.14,11.19 5.42,11.47 5.76,11.47L18.22,11.47C18.56,11.47 18.84,11.19 18.84,10.85C18.84,10.51 18.56,10.23 18.22,10.23L5.77,10.23L5.753,10.23C5.417,10.23 5.14,10.506 5.14,10.843L5.14,10.85Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M21.99,5.76L21.99,6.997L8.839,6.997L8.849,7.001L20.75,7.01L8.87,7.01L8.849,7.001L3.25,6.997L8.839,6.997C8.487,6.965 8.25,6.703 8.25,6.39L8.25,3.25L3.25,3.25L3.25,6.997L2,6.997L2,2.62C2,2.307 2.237,2.045 2.62,2L9.5,2L9.5,5.76L21.99,5.76Z"}),(0,e.createElement)("path",{d:"M21.99,6.997L21.99,21.38C21.99,21.72 21.71,22 21.37,22L2.62,22C2.28,22 2,21.72 2,21.37L2,6.997L3.25,6.997L3.25,20.75L20.75,20.75L20.75,7.01L8.87,7.01C8.827,7.01 8.785,7.006 8.744,6.997L21.99,6.997Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M9.5,2L21.382,2C21.758,2.044 21.99,2.3 21.99,2.608L21.99,5.76L20.75,5.76L20.75,3.25L15.75,3.25L15.75,5.76L14.5,5.76L14.5,3.25L9.5,3.25L9.5,2Z",style:{fillOpacity:.3}}))}})})();